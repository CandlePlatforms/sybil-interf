{"ast":null,"code":"var _jsxFileName = \"/Users/safahi/Downloads/sybil-interface-candle/src/components/vote/VoteModal.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext } from 'react';\nimport { useActiveWeb3React } from '../../hooks';\nimport Modal from '../Modal';\nimport { AutoColumn, ColumnCenter } from '../Column';\nimport styled, { ThemeContext } from 'styled-components';\nimport { RowBetween } from '../Row';\nimport { TYPE, CustomLightSpinner } from '../../theme';\nimport { X, ArrowUpCircle } from 'react-feather';\nimport { ButtonError } from '../Button';\nimport Circle from \"../../assets/images/blue-loader.svg\";\nimport { useVoteCallback, useUserVotes } from '../../state/governance/hooks';\nimport { getEtherscanLink } from '../../utils';\nimport { ExternalLink } from '../../theme/components';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ContentWrapper = styled(AutoColumn)`\n  width: 100%;\n  padding: 24px;\n`;\n_c = ContentWrapper;\nconst StyledClosed = styled(X)`\n  :hover {\n    cursor: pointer;\n  }\n`;\n_c2 = StyledClosed;\nconst ConfirmOrLoadingWrapper = styled.div`\n  width: 100%;\n  padding: 24px;\n`;\n_c3 = ConfirmOrLoadingWrapper;\nconst ConfirmedIcon = styled(ColumnCenter)`\n  padding: 60px 0;\n`;\n_c4 = ConfirmedIcon;\nexport default function VoteModal({\n  isOpen,\n  onDismiss,\n  proposalId,\n  proposalTitle,\n  support\n}) {\n  _s();\n\n  const {\n    chainId\n  } = useActiveWeb3React();\n  const {\n    voteCallback\n  } = useVoteCallback();\n  const availableVotes = useUserVotes(); // monitor call to help UI loading state\n\n  const [hash, setHash] = useState();\n  const [attempting, setAttempting] = useState(false); // get theme for colors\n\n  const theme = useContext(ThemeContext);\n  const fallbackTitle = `Vote ${support ? 'for ' : 'against'} proposal ${proposalId}`;\n  const title = proposalTitle ? proposalTitle : fallbackTitle; // wrapper to reset state on modal close\n\n  function wrappedOndismiss() {\n    setHash(undefined);\n    setAttempting(false);\n    onDismiss();\n  }\n\n  async function onVote() {\n    var _voteCallback;\n\n    setAttempting(true); // if callback not returned properly ignore\n\n    if (!voteCallback) return; // try delegation and store hash\n\n    const hash = await ((_voteCallback = voteCallback(proposalId, support)) === null || _voteCallback === void 0 ? void 0 : _voteCallback.catch(error => {\n      setAttempting(false);\n      console.log(error);\n    }));\n\n    if (hash) {\n      setHash(hash);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    isOpen: isOpen,\n    onDismiss: wrappedOndismiss,\n    maxHeight: 90,\n    children: [!attempting && !hash && /*#__PURE__*/_jsxDEV(ContentWrapper, {\n      gap: \"lg\",\n      children: /*#__PURE__*/_jsxDEV(AutoColumn, {\n        gap: \"lg\",\n        justify: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(RowBetween, {\n          children: [/*#__PURE__*/_jsxDEV(TYPE.mediumHeader, {\n            fontWeight: 500,\n            children: title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(StyledClosed, {\n            stroke: \"black\",\n            onClick: wrappedOndismiss\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(TYPE.largeHeader, {\n          children: [availableVotes === null || availableVotes === void 0 ? void 0 : availableVotes.toSignificant(4), \" Votes\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ButtonError, {\n          error: !support,\n          onClick: onVote,\n          children: /*#__PURE__*/_jsxDEV(TYPE.mediumHeader, {\n            color: \"white\",\n            children: `Vote ${support ? 'for ' : 'against'} proposal #${proposalId}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }, this), attempting && !hash && /*#__PURE__*/_jsxDEV(ConfirmOrLoadingWrapper, {\n      children: [/*#__PURE__*/_jsxDEV(RowBetween, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(StyledClosed, {\n          onClick: wrappedOndismiss\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ConfirmedIcon, {\n        children: /*#__PURE__*/_jsxDEV(CustomLightSpinner, {\n          src: Circle,\n          alt: \"loader\",\n          size: '90px'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(AutoColumn, {\n        gap: \"100px\",\n        justify: 'center',\n        children: [/*#__PURE__*/_jsxDEV(AutoColumn, {\n          gap: \"12px\",\n          justify: 'center',\n          children: /*#__PURE__*/_jsxDEV(TYPE.largeHeader, {\n            children: \"Submitting Vote\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(TYPE.subHeader, {\n          children: \"Confirm this transaction in your wallet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }, this), hash && /*#__PURE__*/_jsxDEV(ConfirmOrLoadingWrapper, {\n      children: [/*#__PURE__*/_jsxDEV(RowBetween, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(StyledClosed, {\n          onClick: wrappedOndismiss\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ConfirmedIcon, {\n        children: /*#__PURE__*/_jsxDEV(ArrowUpCircle, {\n          strokeWidth: 0.5,\n          size: 90,\n          color: theme.primary1\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(AutoColumn, {\n        gap: \"100px\",\n        justify: 'center',\n        children: [/*#__PURE__*/_jsxDEV(AutoColumn, {\n          gap: \"12px\",\n          justify: 'center',\n          children: /*#__PURE__*/_jsxDEV(TYPE.largeHeader, {\n            children: \"Transaction Submitted\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 13\n        }, this), chainId && /*#__PURE__*/_jsxDEV(ExternalLink, {\n          href: getEtherscanLink(chainId, hash, 'transaction'),\n          style: {\n            marginLeft: '4px'\n          },\n          children: /*#__PURE__*/_jsxDEV(TYPE.subHeader, {\n            children: \"View transaction on Etherscan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n}\n\n_s(VoteModal, \"o5dfZsGYnKo8+EQOhLM+9eDhAWw=\", false, function () {\n  return [useActiveWeb3React, useVoteCallback, useUserVotes];\n});\n\n_c5 = VoteModal;\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"ContentWrapper\");\n$RefreshReg$(_c2, \"StyledClosed\");\n$RefreshReg$(_c3, \"ConfirmOrLoadingWrapper\");\n$RefreshReg$(_c4, \"ConfirmedIcon\");\n$RefreshReg$(_c5, \"VoteModal\");","map":{"version":3,"sources":["/Users/safahi/Downloads/sybil-interface-candle/src/components/vote/VoteModal.tsx"],"names":["React","useState","useContext","useActiveWeb3React","Modal","AutoColumn","ColumnCenter","styled","ThemeContext","RowBetween","TYPE","CustomLightSpinner","X","ArrowUpCircle","ButtonError","useVoteCallback","useUserVotes","getEtherscanLink","ExternalLink","ContentWrapper","StyledClosed","ConfirmOrLoadingWrapper","div","ConfirmedIcon","VoteModal","isOpen","onDismiss","proposalId","proposalTitle","support","chainId","voteCallback","availableVotes","hash","setHash","attempting","setAttempting","theme","fallbackTitle","title","wrappedOndismiss","undefined","onVote","catch","error","console","log","toSignificant","Circle","primary1","marginLeft"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from 'react'\nimport { useActiveWeb3React } from '../../hooks'\n\nimport Modal from '../Modal'\nimport { AutoColumn, ColumnCenter } from '../Column'\nimport styled, { ThemeContext } from 'styled-components'\nimport { RowBetween } from '../Row'\nimport { TYPE, CustomLightSpinner } from '../../theme'\nimport { X, ArrowUpCircle } from 'react-feather'\nimport { ButtonError } from '../Button'\nimport Circle from '../../assets/images/blue-loader.svg'\nimport { useVoteCallback, useUserVotes } from '../../state/governance/hooks'\nimport { getEtherscanLink } from '../../utils'\nimport { ExternalLink } from '../../theme/components'\nimport { TokenAmount } from '@uniswap/sdk'\n\nconst ContentWrapper = styled(AutoColumn)`\n  width: 100%;\n  padding: 24px;\n`\n\nconst StyledClosed = styled(X)`\n  :hover {\n    cursor: pointer;\n  }\n`\n\nconst ConfirmOrLoadingWrapper = styled.div`\n  width: 100%;\n  padding: 24px;\n`\n\nconst ConfirmedIcon = styled(ColumnCenter)`\n  padding: 60px 0;\n`\n\ninterface VoteModalProps {\n  isOpen: boolean\n  onDismiss: () => void\n  support: boolean // if user is for or against proposal\n  proposalId: string | undefined // id for the proposal to vote on\n  proposalTitle: string | undefined\n}\n\nexport default function VoteModal({ isOpen, onDismiss, proposalId, proposalTitle, support }: VoteModalProps) {\n  const { chainId } = useActiveWeb3React()\n  const {\n    voteCallback,\n  }: {\n    voteCallback: (proposalId: string | undefined, support: boolean) => Promise<string> | undefined\n  } = useVoteCallback()\n  const availableVotes: TokenAmount | undefined = useUserVotes()\n\n  // monitor call to help UI loading state\n  const [hash, setHash] = useState<string | undefined>()\n  const [attempting, setAttempting] = useState<boolean>(false)\n\n  // get theme for colors\n  const theme = useContext(ThemeContext)\n\n  const fallbackTitle = `Vote ${support ? 'for ' : 'against'} proposal ${proposalId}`\n  const title = proposalTitle ? proposalTitle : fallbackTitle\n  // wrapper to reset state on modal close\n  function wrappedOndismiss() {\n    setHash(undefined)\n    setAttempting(false)\n    onDismiss()\n  }\n\n  async function onVote() {\n    setAttempting(true)\n\n    // if callback not returned properly ignore\n    if (!voteCallback) return\n\n    // try delegation and store hash\n    const hash = await voteCallback(proposalId, support)?.catch((error) => {\n      setAttempting(false)\n      console.log(error)\n    })\n\n    if (hash) {\n      setHash(hash)\n    }\n  }\n\n  return (\n    <Modal isOpen={isOpen} onDismiss={wrappedOndismiss} maxHeight={90}>\n      {!attempting && !hash && (\n        <ContentWrapper gap=\"lg\">\n          <AutoColumn gap=\"lg\" justify=\"center\">\n            <RowBetween>\n              <TYPE.mediumHeader fontWeight={500}>{title}</TYPE.mediumHeader>\n              <StyledClosed stroke=\"black\" onClick={wrappedOndismiss} />\n            </RowBetween>\n            <TYPE.largeHeader>{availableVotes?.toSignificant(4)} Votes</TYPE.largeHeader>\n            <ButtonError error={!support} onClick={onVote}>\n              <TYPE.mediumHeader color=\"white\">{`Vote ${\n                support ? 'for ' : 'against'\n              } proposal #${proposalId}`}</TYPE.mediumHeader>\n            </ButtonError>\n          </AutoColumn>\n        </ContentWrapper>\n      )}\n      {attempting && !hash && (\n        <ConfirmOrLoadingWrapper>\n          <RowBetween>\n            <div />\n            <StyledClosed onClick={wrappedOndismiss} />\n          </RowBetween>\n          <ConfirmedIcon>\n            <CustomLightSpinner src={Circle} alt=\"loader\" size={'90px'} />\n          </ConfirmedIcon>\n          <AutoColumn gap=\"100px\" justify={'center'}>\n            <AutoColumn gap=\"12px\" justify={'center'}>\n              <TYPE.largeHeader>Submitting Vote</TYPE.largeHeader>\n            </AutoColumn>\n            <TYPE.subHeader>Confirm this transaction in your wallet</TYPE.subHeader>\n          </AutoColumn>\n        </ConfirmOrLoadingWrapper>\n      )}\n      {hash && (\n        <ConfirmOrLoadingWrapper>\n          <RowBetween>\n            <div />\n            <StyledClosed onClick={wrappedOndismiss} />\n          </RowBetween>\n          <ConfirmedIcon>\n            <ArrowUpCircle strokeWidth={0.5} size={90} color={theme.primary1} />\n          </ConfirmedIcon>\n          <AutoColumn gap=\"100px\" justify={'center'}>\n            <AutoColumn gap=\"12px\" justify={'center'}>\n              <TYPE.largeHeader>Transaction Submitted</TYPE.largeHeader>\n            </AutoColumn>\n            {chainId && (\n              <ExternalLink href={getEtherscanLink(chainId, hash, 'transaction')} style={{ marginLeft: '4px' }}>\n                <TYPE.subHeader>View transaction on Etherscan</TYPE.subHeader>\n              </ExternalLink>\n            )}\n          </AutoColumn>\n        </ConfirmOrLoadingWrapper>\n      )}\n    </Modal>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}