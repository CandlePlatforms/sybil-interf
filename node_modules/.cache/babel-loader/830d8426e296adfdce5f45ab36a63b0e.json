{"ast":null,"code":"var _jsxFileName = \"/Users/safahi/Documents/GitHub/sybil-interf/src/components/Profile/VoteContent.tsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { AutoColumn } from '../Column';\nimport styled from 'styled-components';\nimport { useGovernanceToken, useUserVotes, useDelegateInfo, useUserDelegatee, useActiveProtocol } from '../../state/governance/hooks';\nimport { useToggleModal } from '../../state/application/hooks';\nimport { useActiveWeb3React, useTheme } from '../../hooks';\nimport { ApplicationModal } from '../../state/application/actions';\nimport { useTokenBalance } from '../../state/wallet/hooks';\nimport { TokenAmount } from '@uniswap/sdk';\nimport { ZERO_ADDRESS, BIG_INT_ZERO } from '../../constants';\nimport Card, { WhiteCard } from '../Card';\nimport { RowFixed, RowBetween } from '../Row';\nimport { TYPE } from '../../theme';\nimport { ButtonBasic, ButtonCustom } from '../Button';\nimport { CornerDownRight } from 'react-feather';\nimport Loader from '../Loader';\nimport { CloseIcon, StyledInternalLink } from '../../theme/components';\nimport { useAllIdentities } from '../../state/social/hooks';\nimport { nameOrAddress } from '../../utils/getName';\nimport { Break } from '../../pages/DelegateInfo';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst OffsetCard = styled(Card)`\n  background-color: ${({\n  theme,\n  bgColor\n}) => bgColor !== null && bgColor !== void 0 ? bgColor : theme.bg1};\n  padding: 1rem;\n  padding: 16px;\n  margin-top: -40px;\n  padding-top: 32px;\n  z-index: 1;\n`;\n_c = OffsetCard;\nexport default function VoteContent() {\n  _s();\n\n  const theme = useTheme(); // account details\n\n  const {\n    account\n  } = useActiveWeb3React();\n  const [activeProtocol] = useActiveProtocol(); // UI views\n\n  const toggelDelegateModal = useToggleModal(ApplicationModal.DELEGATE);\n  const govToken = useGovernanceToken(); // user gov data\n\n  const govTokenBalance = useTokenBalance(account !== null && account !== void 0 ? account : undefined, govToken);\n  const userDelegatee = useUserDelegatee();\n  const userDelegateInfo = useDelegateInfo(account !== null && account !== void 0 ? account : undefined); // all available votes - personal and delgated\n\n  const totalVotes = useUserVotes(); // votes from users personal balance only\n\n  const walletVotes = govTokenBalance && userDelegatee && userDelegatee !== ZERO_ADDRESS ? govTokenBalance : govToken && userDelegatee && govTokenBalance // if all loaded must be 0\n  ? new TokenAmount(govToken, BIG_INT_ZERO) : undefined; // votes delegated from other wallets only\n\n  const receivedVotes = totalVotes && walletVotes && userDelegatee === account && totalVotes.greaterThan(walletVotes) ? totalVotes.subtract(walletVotes) : totalVotes !== null && totalVotes !== void 0 ? totalVotes : undefined; // amount of addresses delegated to account, not including account\n\n  const delegatorsCount = userDelegateInfo ? (userDelegateInfo === null || userDelegateInfo === void 0 ? void 0 : userDelegateInfo.tokenHoldersRepresentedAmount) - (userDelegatee && userDelegatee === account ? 1 : 0) : 0; // used for displaying names\n\n  const [allIdentities] = useAllIdentities();\n  return /*#__PURE__*/_jsxDEV(AutoColumn, {\n    gap: \"16px\",\n    children: [/*#__PURE__*/_jsxDEV(WhiteCard, {\n      border: `1px solid ${theme.bg3}`,\n      style: {\n        zIndex: 2\n      },\n      padding: \"1rem\",\n      children: /*#__PURE__*/_jsxDEV(RowBetween, {\n        children: [/*#__PURE__*/_jsxDEV(TYPE.black, {\n          color: theme.text1,\n          children: \"Wallet votes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TYPE.main, {\n          color: activeProtocol === null || activeProtocol === void 0 ? void 0 : activeProtocol.primaryColor,\n          children: walletVotes ? walletVotes.toFixed(0) : account ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 63\n          }, this) : '-'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), userDelegatee && userDelegatee !== ZERO_ADDRESS && /*#__PURE__*/_jsxDEV(OffsetCard, {\n      bgColor: activeProtocol === null || activeProtocol === void 0 ? void 0 : activeProtocol.secondaryColor,\n      children: userDelegatee === account ? /*#__PURE__*/_jsxDEV(RowBetween, {\n        children: [/*#__PURE__*/_jsxDEV(TYPE.body, {\n          fontSize: \"14px\",\n          fontWeight: 500,\n          color: activeProtocol === null || activeProtocol === void 0 ? void 0 : activeProtocol.primaryColor,\n          children: \"Self delegated\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(ButtonCustom, {\n          bgColor: theme.bg4,\n          padding: \"4px 8px\",\n          borderRadius: \"8px\",\n          color: theme.text1,\n          style: {\n            fontSize: '14px',\n            width: 'fit-content'\n          },\n          onClick: () => toggelDelegateModal(),\n          children: \"Update\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(RowBetween, {\n        children: [/*#__PURE__*/_jsxDEV(RowFixed, {\n          children: [/*#__PURE__*/_jsxDEV(CornerDownRight, {\n            size: \"14px\",\n            stroke: activeProtocol === null || activeProtocol === void 0 ? void 0 : activeProtocol.primaryColor\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 17\n          }, this), ' ', /*#__PURE__*/_jsxDEV(TYPE.main, {\n            ml: \"2px\",\n            fontSize: \"14px\",\n            color: activeProtocol === null || activeProtocol === void 0 ? void 0 : activeProtocol.primaryColor,\n            children: \"Delegating to\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(RowFixed, {\n          style: {\n            backgroundColor: theme.bg1,\n            borderRadius: '20px',\n            padding: '0.25rem 0.5rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(StyledInternalLink, {\n            to: `/delegates/${activeProtocol === null || activeProtocol === void 0 ? void 0 : activeProtocol.id}/${userDelegatee}`,\n            children: /*#__PURE__*/_jsxDEV(TYPE.main, {\n              fontSize: \"14px\",\n              mr: \"2px\",\n              color: theme.blue1,\n              children: userDelegatee !== account ? nameOrAddress(userDelegatee, allIdentities, true) : 'self'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(CloseIcon, {\n            stroke: theme.text2,\n            size: \"16px\",\n            onClick: () => toggelDelegateModal()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }, this), userDelegatee && userDelegatee === ZERO_ADDRESS && govTokenBalance && govTokenBalance.greaterThan(BIG_INT_ZERO) && /*#__PURE__*/_jsxDEV(OffsetCard, {\n      bgColor: theme.blue3,\n      children: /*#__PURE__*/_jsxDEV(RowBetween, {\n        children: [/*#__PURE__*/_jsxDEV(RowFixed, {\n          children: /*#__PURE__*/_jsxDEV(TYPE.blue, {\n            ml: \"4px\",\n            fontSize: \"14px\",\n            children: [govTokenBalance.toFixed(0), \" inactive votes\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ButtonBasic, {\n          onClick: () => toggelDelegateModal(),\n          children: /*#__PURE__*/_jsxDEV(TYPE.white, {\n            fontSize: \"14px\",\n            children: \"Set up voting\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(WhiteCard, {\n      border: `1px solid ${theme.bg3}`,\n      padding: \"16px\",\n      opacity: (receivedVotes === null || receivedVotes === void 0 ? void 0 : receivedVotes.greaterThan(BIG_INT_ZERO)) ? '1' : '0.5',\n      style: {\n        zIndex: 3\n      },\n      children: /*#__PURE__*/_jsxDEV(RowBetween, {\n        children: [/*#__PURE__*/_jsxDEV(TYPE.black, {\n          color: theme.text1,\n          children: \"Received votes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TYPE.main, {\n          color: activeProtocol === null || activeProtocol === void 0 ? void 0 : activeProtocol.primaryColor,\n          children: receivedVotes ? receivedVotes.toFixed(0) : account ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 67\n          }, this) : '-'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this), delegatorsCount > 0 && /*#__PURE__*/_jsxDEV(OffsetCard, {\n      bgColor: theme.green2,\n      children: /*#__PURE__*/_jsxDEV(TYPE.main, {\n        fontWeight: 500,\n        color: theme.green1,\n        fontSize: \"14px\",\n        children: [delegatorsCount, \" \", delegatorsCount > 1 ? 'addresses have' : 'address has', \" delegated to you\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Break, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      backgroundColor: activeProtocol === null || activeProtocol === void 0 ? void 0 : activeProtocol.secondaryColor,\n      color: activeProtocol === null || activeProtocol === void 0 ? void 0 : activeProtocol.primaryColor,\n      fontWeight: 500,\n      padding: \"16px\",\n      children: userDelegatee && userDelegatee !== ZERO_ADDRESS && userDelegatee !== account && (receivedVotes === null || receivedVotes === void 0 ? void 0 : receivedVotes.equalTo(BIG_INT_ZERO)) ? 'You are delegating all your voting power' : /*#__PURE__*/_jsxDEV(RowBetween, {\n        style: {\n          color: activeProtocol === null || activeProtocol === void 0 ? void 0 : activeProtocol.primaryColor,\n          fontWeight: 600\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Total votes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: totalVotes ? totalVotes.toFixed(0) : account ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 67\n          }, this) : '-'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this);\n}\n\n_s(VoteContent, \"9os9VAa+y6+k15yVbw3EhKcY1xE=\", false, function () {\n  return [useTheme, useActiveWeb3React, useActiveProtocol, useToggleModal, useGovernanceToken, useTokenBalance, useUserDelegatee, useDelegateInfo, useUserVotes, useAllIdentities];\n});\n\n_c2 = VoteContent;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"OffsetCard\");\n$RefreshReg$(_c2, \"VoteContent\");","map":{"version":3,"sources":["/Users/safahi/Documents/GitHub/sybil-interf/src/components/Profile/VoteContent.tsx"],"names":["React","AutoColumn","styled","useGovernanceToken","useUserVotes","useDelegateInfo","useUserDelegatee","useActiveProtocol","useToggleModal","useActiveWeb3React","useTheme","ApplicationModal","useTokenBalance","TokenAmount","ZERO_ADDRESS","BIG_INT_ZERO","Card","WhiteCard","RowFixed","RowBetween","TYPE","ButtonBasic","ButtonCustom","CornerDownRight","Loader","CloseIcon","StyledInternalLink","useAllIdentities","nameOrAddress","Break","OffsetCard","theme","bgColor","bg1","VoteContent","account","activeProtocol","toggelDelegateModal","DELEGATE","govToken","govTokenBalance","undefined","userDelegatee","userDelegateInfo","totalVotes","walletVotes","receivedVotes","greaterThan","subtract","delegatorsCount","tokenHoldersRepresentedAmount","allIdentities","bg3","zIndex","text1","primaryColor","toFixed","secondaryColor","bg4","fontSize","width","backgroundColor","borderRadius","padding","id","blue1","text2","blue3","green2","green1","equalTo","color","fontWeight"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,WAA3B;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SACEC,kBADF,EAEEC,YAFF,EAGEC,eAHF,EAIEC,gBAJF,EAKEC,iBALF,QAMO,8BANP;AAOA,SAASC,cAAT,QAA+B,+BAA/B;AACA,SAASC,kBAAT,EAA6BC,QAA7B,QAA6C,aAA7C;AACA,SAASC,gBAAT,QAAiC,iCAAjC;AACA,SAASC,eAAT,QAAgC,0BAAhC;AACA,SAASC,WAAT,QAAmC,cAAnC;AACA,SAASC,YAAT,EAAuBC,YAAvB,QAA2C,iBAA3C;AACA,OAAOC,IAAP,IAAeC,SAAf,QAAgC,SAAhC;AACA,SAASC,QAAT,EAAmBC,UAAnB,QAAqC,QAArC;AACA,SAASC,IAAT,QAAqB,aAArB;AACA,SAASC,WAAT,EAAsBC,YAAtB,QAA0C,WAA1C;AACA,SAASC,eAAT,QAAgC,eAAhC;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,SAASC,SAAT,EAAoBC,kBAApB,QAA8C,wBAA9C;AACA,SAASC,gBAAT,QAAiC,0BAAjC;AACA,SAASC,aAAT,QAA8B,qBAA9B;AACA,SAASC,KAAT,QAAsB,0BAAtB;;AAEA,MAAMC,UAAU,GAAG5B,MAAM,CAACc,IAAD,CAA6B;AACtD,sBAAsB,CAAC;AAAEe,EAAAA,KAAF;AAASC,EAAAA;AAAT,CAAD,KAAwBA,OAAxB,aAAwBA,OAAxB,cAAwBA,OAAxB,GAAmCD,KAAK,CAACE,GAAI;AACnE;AACA;AACA;AACA;AACA;AACA,CAPA;KAAMH,U;AASN,eAAe,SAASI,WAAT,GAAuB;AAAA;;AACpC,QAAMH,KAAK,GAAGrB,QAAQ,EAAtB,CADoC,CAGpC;;AACA,QAAM;AAAEyB,IAAAA;AAAF,MAAc1B,kBAAkB,EAAtC;AACA,QAAM,CAAC2B,cAAD,IAAmB7B,iBAAiB,EAA1C,CALoC,CAOpC;;AACA,QAAM8B,mBAAmB,GAAG7B,cAAc,CAACG,gBAAgB,CAAC2B,QAAlB,CAA1C;AAEA,QAAMC,QAA2B,GAAGpC,kBAAkB,EAAtD,CAVoC,CAYpC;;AACA,QAAMqC,eAAwC,GAAG5B,eAAe,CAACuB,OAAD,aAACA,OAAD,cAACA,OAAD,GAAYM,SAAZ,EAAuBF,QAAvB,CAAhE;AACA,QAAMG,aAAiC,GAAGpC,gBAAgB,EAA1D;AACA,QAAMqC,gBAAgB,GAAGtC,eAAe,CAAC8B,OAAD,aAACA,OAAD,cAACA,OAAD,GAAYM,SAAZ,CAAxC,CAfoC,CAiBpC;;AACA,QAAMG,UAAmC,GAAGxC,YAAY,EAAxD,CAlBoC,CAoBpC;;AACA,QAAMyC,WAAW,GACfL,eAAe,IAAIE,aAAnB,IAAoCA,aAAa,KAAK5B,YAAtD,GACI0B,eADJ,GAEID,QAAQ,IAAIG,aAAZ,IAA6BF,eAA7B,CAA6C;AAA7C,IACA,IAAI3B,WAAJ,CAAgB0B,QAAhB,EAA0BxB,YAA1B,CADA,GAEA0B,SALN,CArBoC,CA4BpC;;AACA,QAAMK,aAAa,GACjBF,UAAU,IAAIC,WAAd,IAA6BH,aAAa,KAAKP,OAA/C,IAA0DS,UAAU,CAACG,WAAX,CAAuBF,WAAvB,CAA1D,GACID,UAAU,CAACI,QAAX,CAAoBH,WAApB,CADJ,GAEID,UAFJ,aAEIA,UAFJ,cAEIA,UAFJ,GAEkBH,SAHpB,CA7BoC,CAkCpC;;AACA,QAAMQ,eAAe,GAAGN,gBAAgB,GACpC,CAAAA,gBAAgB,SAAhB,IAAAA,gBAAgB,WAAhB,YAAAA,gBAAgB,CAAEO,6BAAlB,KAAmDR,aAAa,IAAIA,aAAa,KAAKP,OAAnC,GAA6C,CAA7C,GAAiD,CAApG,CADoC,GAEpC,CAFJ,CAnCoC,CAuCpC;;AACA,QAAM,CAACgB,aAAD,IAAkBxB,gBAAgB,EAAxC;AAEA,sBACE,QAAC,UAAD;AAAY,IAAA,GAAG,EAAC,MAAhB;AAAA,4BACE,QAAC,SAAD;AAAW,MAAA,MAAM,EAAG,aAAYI,KAAK,CAACqB,GAAI,EAA1C;AAA6C,MAAA,KAAK,EAAE;AAAEC,QAAAA,MAAM,EAAE;AAAV,OAApD;AAAmE,MAAA,OAAO,EAAC,MAA3E;AAAA,6BACE,QAAC,UAAD;AAAA,gCACE,QAAC,IAAD,CAAM,KAAN;AAAY,UAAA,KAAK,EAAEtB,KAAK,CAACuB,KAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE,QAAC,IAAD,CAAM,IAAN;AAAW,UAAA,KAAK,EAAElB,cAAF,aAAEA,cAAF,uBAAEA,cAAc,CAAEmB,YAAlC;AAAA,oBACGV,WAAW,GAAGA,WAAW,CAACW,OAAZ,CAAoB,CAApB,CAAH,GAA4BrB,OAAO,gBAAG,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,kBAAH,GAAgB;AADjE;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF,EASGO,aAAa,IAAIA,aAAa,KAAK5B,YAAnC,iBACC,QAAC,UAAD;AAAY,MAAA,OAAO,EAAEsB,cAAF,aAAEA,cAAF,uBAAEA,cAAc,CAAEqB,cAArC;AAAA,gBACGf,aAAa,KAAKP,OAAlB,gBACC,QAAC,UAAD;AAAA,gCACE,QAAC,IAAD,CAAM,IAAN;AAAW,UAAA,QAAQ,EAAC,MAApB;AAA2B,UAAA,UAAU,EAAE,GAAvC;AAA4C,UAAA,KAAK,EAAEC,cAAF,aAAEA,cAAF,uBAAEA,cAAc,CAAEmB,YAAnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAIE,QAAC,YAAD;AACE,UAAA,OAAO,EAAExB,KAAK,CAAC2B,GADjB;AAEE,UAAA,OAAO,EAAC,SAFV;AAGE,UAAA,YAAY,EAAC,KAHf;AAIE,UAAA,KAAK,EAAE3B,KAAK,CAACuB,KAJf;AAKE,UAAA,KAAK,EAAE;AAAEK,YAAAA,QAAQ,EAAE,MAAZ;AAAoBC,YAAAA,KAAK,EAAE;AAA3B,WALT;AAME,UAAA,OAAO,EAAE,MAAMvB,mBAAmB,EANpC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,cADD,gBAiBC,QAAC,UAAD;AAAA,gCACE,QAAC,QAAD;AAAA,kCACE,QAAC,eAAD;AAAiB,YAAA,IAAI,EAAC,MAAtB;AAA6B,YAAA,MAAM,EAAED,cAAF,aAAEA,cAAF,uBAAEA,cAAc,CAAEmB;AAArD;AAAA;AAAA;AAAA;AAAA,kBADF,EACwE,GADxE,eAEE,QAAC,IAAD,CAAM,IAAN;AAAW,YAAA,EAAE,EAAC,KAAd;AAAoB,YAAA,QAAQ,EAAC,MAA7B;AAAoC,YAAA,KAAK,EAAEnB,cAAF,aAAEA,cAAF,uBAAEA,cAAc,CAAEmB,YAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAOE,QAAC,QAAD;AAAU,UAAA,KAAK,EAAE;AAAEM,YAAAA,eAAe,EAAE9B,KAAK,CAACE,GAAzB;AAA8B6B,YAAAA,YAAY,EAAE,MAA5C;AAAoDC,YAAAA,OAAO,EAAE;AAA7D,WAAjB;AAAA,kCACE,QAAC,kBAAD;AAAoB,YAAA,EAAE,EAAG,cAAa3B,cAAd,aAAcA,cAAd,uBAAcA,cAAc,CAAE4B,EAAG,IAAGtB,aAAc,EAA1E;AAAA,mCACE,QAAC,IAAD,CAAM,IAAN;AAAW,cAAA,QAAQ,EAAC,MAApB;AAA2B,cAAA,EAAE,EAAC,KAA9B;AAAoC,cAAA,KAAK,EAAEX,KAAK,CAACkC,KAAjD;AAAA,wBACGvB,aAAa,KAAKP,OAAlB,GAA4BP,aAAa,CAACc,aAAD,EAAgBS,aAAhB,EAA+B,IAA/B,CAAzC,GAAgF;AADnF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADF,eAME,QAAC,SAAD;AAAW,YAAA,MAAM,EAAEpB,KAAK,CAACmC,KAAzB;AAAgC,YAAA,IAAI,EAAC,MAArC;AAA4C,YAAA,OAAO,EAAE,MAAM7B,mBAAmB;AAA9E;AAAA;AAAA;AAAA;AAAA,kBANF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAPF;AAAA;AAAA;AAAA;AAAA;AAAA;AAlBJ;AAAA;AAAA;AAAA;AAAA,YAVJ,EA+CGK,aAAa,IAAIA,aAAa,KAAK5B,YAAnC,IAAmD0B,eAAnD,IAAsEA,eAAe,CAACO,WAAhB,CAA4BhC,YAA5B,CAAtE,iBACC,QAAC,UAAD;AAAY,MAAA,OAAO,EAAEgB,KAAK,CAACoC,KAA3B;AAAA,6BACE,QAAC,UAAD;AAAA,gCACE,QAAC,QAAD;AAAA,iCACE,QAAC,IAAD,CAAM,IAAN;AAAW,YAAA,EAAE,EAAC,KAAd;AAAoB,YAAA,QAAQ,EAAC,MAA7B;AAAA,uBACG3B,eAAe,CAACgB,OAAhB,CAAwB,CAAxB,CADH;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBADF,eAME,QAAC,WAAD;AAAa,UAAA,OAAO,EAAE,MAAMnB,mBAAmB,EAA/C;AAAA,iCACE,QAAC,IAAD,CAAM,KAAN;AAAY,YAAA,QAAQ,EAAC,MAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBANF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAhDJ,eA6DE,QAAC,SAAD;AACE,MAAA,MAAM,EAAG,aAAYN,KAAK,CAACqB,GAAI,EADjC;AAEE,MAAA,OAAO,EAAC,MAFV;AAGE,MAAA,OAAO,EAAE,CAAAN,aAAa,SAAb,IAAAA,aAAa,WAAb,YAAAA,aAAa,CAAEC,WAAf,CAA2BhC,YAA3B,KAA2C,GAA3C,GAAiD,KAH5D;AAIE,MAAA,KAAK,EAAE;AAAEsC,QAAAA,MAAM,EAAE;AAAV,OAJT;AAAA,6BAME,QAAC,UAAD;AAAA,gCACE,QAAC,IAAD,CAAM,KAAN;AAAY,UAAA,KAAK,EAAEtB,KAAK,CAACuB,KAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE,QAAC,IAAD,CAAM,IAAN;AAAW,UAAA,KAAK,EAAElB,cAAF,aAAEA,cAAF,uBAAEA,cAAc,CAAEmB,YAAlC;AAAA,oBACGT,aAAa,GAAGA,aAAa,CAACU,OAAd,CAAsB,CAAtB,CAAH,GAA8BrB,OAAO,gBAAG,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,kBAAH,GAAgB;AADrE;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AANF;AAAA;AAAA;AAAA;AAAA,YA7DF,EA0EGc,eAAe,GAAG,CAAlB,iBACC,QAAC,UAAD;AAAY,MAAA,OAAO,EAAElB,KAAK,CAACqC,MAA3B;AAAA,6BACE,QAAC,IAAD,CAAM,IAAN;AAAW,QAAA,UAAU,EAAE,GAAvB;AAA4B,QAAA,KAAK,EAAErC,KAAK,CAACsC,MAAzC;AAAiD,QAAA,QAAQ,EAAC,MAA1D;AAAA,mBACGpB,eADH,OACqBA,eAAe,GAAG,CAAlB,GAAsB,gBAAtB,GAAyC,aAD9D;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YA3EJ,eAiFE,QAAC,KAAD;AAAA;AAAA;AAAA;AAAA,YAjFF,eAkFE,QAAC,IAAD;AACE,MAAA,eAAe,EAAEb,cAAF,aAAEA,cAAF,uBAAEA,cAAc,CAAEqB,cADnC;AAEE,MAAA,KAAK,EAAErB,cAAF,aAAEA,cAAF,uBAAEA,cAAc,CAAEmB,YAFzB;AAGE,MAAA,UAAU,EAAE,GAHd;AAIE,MAAA,OAAO,EAAC,MAJV;AAAA,gBAMGb,aAAa,IACdA,aAAa,KAAK5B,YADjB,IAED4B,aAAa,KAAKP,OAFjB,KAGDW,aAHC,aAGDA,aAHC,uBAGDA,aAAa,CAAEwB,OAAf,CAAuBvD,YAAvB,CAHC,IAIC,0CAJD,gBAMC,QAAC,UAAD;AAAY,QAAA,KAAK,EAAE;AAAEwD,UAAAA,KAAK,EAAEnC,cAAF,aAAEA,cAAF,uBAAEA,cAAc,CAAEmB,YAAzB;AAAuCiB,UAAAA,UAAU,EAAE;AAAnD,SAAnB;AAAA,gCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAA,oBAAO5B,UAAU,GAAGA,UAAU,CAACY,OAAX,CAAmB,CAAnB,CAAH,GAA2BrB,OAAO,gBAAG,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,kBAAH,GAAgB;AAAnE;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AAZJ;AAAA;AAAA;AAAA;AAAA,YAlFF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAuGD;;GAjJuBD,W;UACRxB,Q,EAGMD,kB,EACKF,iB,EAGGC,c,EAEQL,kB,EAGaS,e,EACPN,gB,EACjBD,e,EAGmBD,Y,EAsBpBuB,gB;;;MAxCFO,W","sourcesContent":["import React from 'react'\nimport { AutoColumn } from '../Column'\nimport styled from 'styled-components'\nimport {\n  useGovernanceToken,\n  useUserVotes,\n  useDelegateInfo,\n  useUserDelegatee,\n  useActiveProtocol,\n} from '../../state/governance/hooks'\nimport { useToggleModal } from '../../state/application/hooks'\nimport { useActiveWeb3React, useTheme } from '../../hooks'\nimport { ApplicationModal } from '../../state/application/actions'\nimport { useTokenBalance } from '../../state/wallet/hooks'\nimport { TokenAmount, Token } from '@uniswap/sdk'\nimport { ZERO_ADDRESS, BIG_INT_ZERO } from '../../constants'\nimport Card, { WhiteCard } from '../Card'\nimport { RowFixed, RowBetween } from '../Row'\nimport { TYPE } from '../../theme'\nimport { ButtonBasic, ButtonCustom } from '../Button'\nimport { CornerDownRight } from 'react-feather'\nimport Loader from '../Loader'\nimport { CloseIcon, StyledInternalLink } from '../../theme/components'\nimport { useAllIdentities } from '../../state/social/hooks'\nimport { nameOrAddress } from '../../utils/getName'\nimport { Break } from '../../pages/DelegateInfo'\n\nconst OffsetCard = styled(Card)<{ bgColor?: string }>`\n  background-color: ${({ theme, bgColor }) => bgColor ?? theme.bg1};\n  padding: 1rem;\n  padding: 16px;\n  margin-top: -40px;\n  padding-top: 32px;\n  z-index: 1;\n`\n\nexport default function VoteContent() {\n  const theme = useTheme()\n\n  // account details\n  const { account } = useActiveWeb3React()\n  const [activeProtocol] = useActiveProtocol()\n\n  // UI views\n  const toggelDelegateModal = useToggleModal(ApplicationModal.DELEGATE)\n\n  const govToken: Token | undefined = useGovernanceToken()\n\n  // user gov data\n  const govTokenBalance: TokenAmount | undefined = useTokenBalance(account ?? undefined, govToken)\n  const userDelegatee: string | undefined = useUserDelegatee()\n  const userDelegateInfo = useDelegateInfo(account ?? undefined)\n\n  // all available votes - personal and delgated\n  const totalVotes: TokenAmount | undefined = useUserVotes()\n\n  // votes from users personal balance only\n  const walletVotes =\n    govTokenBalance && userDelegatee && userDelegatee !== ZERO_ADDRESS\n      ? govTokenBalance\n      : govToken && userDelegatee && govTokenBalance // if all loaded must be 0\n      ? new TokenAmount(govToken, BIG_INT_ZERO)\n      : undefined\n\n  // votes delegated from other wallets only\n  const receivedVotes =\n    totalVotes && walletVotes && userDelegatee === account && totalVotes.greaterThan(walletVotes)\n      ? totalVotes.subtract(walletVotes)\n      : totalVotes ?? undefined\n\n  // amount of addresses delegated to account, not including account\n  const delegatorsCount = userDelegateInfo\n    ? userDelegateInfo?.tokenHoldersRepresentedAmount - (userDelegatee && userDelegatee === account ? 1 : 0)\n    : 0\n\n  // used for displaying names\n  const [allIdentities] = useAllIdentities()\n\n  return (\n    <AutoColumn gap=\"16px\">\n      <WhiteCard border={`1px solid ${theme.bg3}`} style={{ zIndex: 2 }} padding=\"1rem\">\n        <RowBetween>\n          <TYPE.black color={theme.text1}>Wallet votes</TYPE.black>\n          <TYPE.main color={activeProtocol?.primaryColor}>\n            {walletVotes ? walletVotes.toFixed(0) : account ? <Loader /> : '-'}\n          </TYPE.main>\n        </RowBetween>\n      </WhiteCard>\n      {userDelegatee && userDelegatee !== ZERO_ADDRESS && (\n        <OffsetCard bgColor={activeProtocol?.secondaryColor}>\n          {userDelegatee === account ? (\n            <RowBetween>\n              <TYPE.body fontSize=\"14px\" fontWeight={500} color={activeProtocol?.primaryColor}>\n                Self delegated\n              </TYPE.body>\n              <ButtonCustom\n                bgColor={theme.bg4}\n                padding=\"4px 8px\"\n                borderRadius=\"8px\"\n                color={theme.text1}\n                style={{ fontSize: '14px', width: 'fit-content' }}\n                onClick={() => toggelDelegateModal()}\n              >\n                Update\n              </ButtonCustom>\n            </RowBetween>\n          ) : (\n            <RowBetween>\n              <RowFixed>\n                <CornerDownRight size=\"14px\" stroke={activeProtocol?.primaryColor} />{' '}\n                <TYPE.main ml=\"2px\" fontSize=\"14px\" color={activeProtocol?.primaryColor}>\n                  Delegating to\n                </TYPE.main>\n              </RowFixed>\n              <RowFixed style={{ backgroundColor: theme.bg1, borderRadius: '20px', padding: '0.25rem 0.5rem' }}>\n                <StyledInternalLink to={`/delegates/${activeProtocol?.id}/${userDelegatee}`}>\n                  <TYPE.main fontSize=\"14px\" mr=\"2px\" color={theme.blue1}>\n                    {userDelegatee !== account ? nameOrAddress(userDelegatee, allIdentities, true) : 'self'}\n                  </TYPE.main>\n                </StyledInternalLink>\n                <CloseIcon stroke={theme.text2} size=\"16px\" onClick={() => toggelDelegateModal()} />\n              </RowFixed>\n            </RowBetween>\n          )}\n        </OffsetCard>\n      )}\n      {userDelegatee && userDelegatee === ZERO_ADDRESS && govTokenBalance && govTokenBalance.greaterThan(BIG_INT_ZERO) && (\n        <OffsetCard bgColor={theme.blue3}>\n          <RowBetween>\n            <RowFixed>\n              <TYPE.blue ml=\"4px\" fontSize=\"14px\">\n                {govTokenBalance.toFixed(0)} inactive votes\n              </TYPE.blue>\n            </RowFixed>\n            <ButtonBasic onClick={() => toggelDelegateModal()}>\n              <TYPE.white fontSize=\"14px\">Set up voting</TYPE.white>\n            </ButtonBasic>\n          </RowBetween>\n        </OffsetCard>\n      )}\n      <WhiteCard\n        border={`1px solid ${theme.bg3}`}\n        padding=\"16px\"\n        opacity={receivedVotes?.greaterThan(BIG_INT_ZERO) ? '1' : '0.5'}\n        style={{ zIndex: 3 }}\n      >\n        <RowBetween>\n          <TYPE.black color={theme.text1}>Received votes</TYPE.black>\n          <TYPE.main color={activeProtocol?.primaryColor}>\n            {receivedVotes ? receivedVotes.toFixed(0) : account ? <Loader /> : '-'}\n          </TYPE.main>\n        </RowBetween>\n      </WhiteCard>\n      {delegatorsCount > 0 && (\n        <OffsetCard bgColor={theme.green2}>\n          <TYPE.main fontWeight={500} color={theme.green1} fontSize=\"14px\">\n            {delegatorsCount} {delegatorsCount > 1 ? 'addresses have' : 'address has'} delegated to you\n          </TYPE.main>\n        </OffsetCard>\n      )}\n      <Break />\n      <Card\n        backgroundColor={activeProtocol?.secondaryColor}\n        color={activeProtocol?.primaryColor}\n        fontWeight={500}\n        padding=\"16px\"\n      >\n        {userDelegatee &&\n        userDelegatee !== ZERO_ADDRESS &&\n        userDelegatee !== account &&\n        receivedVotes?.equalTo(BIG_INT_ZERO) ? (\n          'You are delegating all your voting power'\n        ) : (\n          <RowBetween style={{ color: activeProtocol?.primaryColor, fontWeight: 600 }}>\n            <span>Total votes</span>\n            <span>{totalVotes ? totalVotes.toFixed(0) : account ? <Loader /> : '-'}</span>\n          </RowBetween>\n        )}\n      </Card>\n    </AutoColumn>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}