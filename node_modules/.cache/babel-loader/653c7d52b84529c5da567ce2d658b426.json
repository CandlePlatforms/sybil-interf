{"ast":null,"code":"var _jsxFileName = \"/Users/safahi/Documents/GitHub/sybil-interf/src/pages/DelegateInfo.tsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { BodyWrapper } from './AppBody';\nimport { useActiveProtocol, useDelegateInfo, useGovernanceToken, useAllProposals, useAllProposalStates, useUserDelegatee } from '../state/governance/hooks';\nimport { useActiveWeb3React } from '../hooks';\nimport { ChainId, JSBI } from '@uniswap/sdk';\nimport { GreyCard, OutlineCard } from '../components/Card';\nimport { useProtocolUpdate } from '../hooks/useProtocolUpdate';\nimport styled from 'styled-components';\nimport { RowBetween, AutoRow, RowFixed } from '../components/Row';\nimport { CheckCircle, XCircle, ChevronRight } from 'react-feather';\nimport { AutoColumn } from '../components/Column';\nimport EmptyProfile from '../assets/images/emptyprofile.png';\nimport { RoundedProfileImage, WrappedListLogo, ProposalStatusSmall, DelegateButton } from '../components/governance/styled';\nimport { getTwitterProfileLink, getEtherscanLink, shortenAddress, isAddress } from '../utils';\nimport { TYPE, ExternalLink, GreenIcon, RedIcon, StyledInternalLink, OnlyAboveSmall } from '../theme';\nimport { useIdentity, useTwitterProfileData, useAllIdentities } from '../state/social/hooks';\nimport { useTokenBalance } from '../state/wallet/hooks';\nimport Loader from '../components/Loader';\nimport { enumerateProposalState } from '../data/governance';\nimport CopyHelper from '../components/AccountDetails/Copy';\nimport { useIsEOA } from '../hooks/useIsEOA';\nimport { useIsAave } from '../hooks/useContract';\nimport { useToggleModal, useModalDelegatee } from '../state/application/hooks';\nimport { ApplicationModal } from '../state/application/actions';\nimport { BIG_INT_ZERO } from '../constants';\nimport useENS from '../hooks/useENS';\nimport { nameOrAddress } from '../utils/getName';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ArrowWrapper = styled(StyledInternalLink)`\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  height: 24px;\n  color: ${({\n  theme\n}) => theme.text1};\n\n  a {\n    color: ${({\n  theme\n}) => theme.text1};\n    text-decoration: none;\n  }\n  :hover {\n    text-decoration: none;\n    cursor: pointer;\n  }\n`;\n_c = ArrowWrapper;\nconst DataRow = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n\n  ${({\n  theme\n}) => theme.mediaWidth.upToSmall`\n    grid-template-columns: 1fr 1fr;\n  `};\n`;\n_c2 = DataRow;\nexport const Break = styled.div`\n  width: 100%;\n  background-color: ${({\n  theme\n}) => theme.bg4};\n  height: 1px;\n`;\n_c3 = Break;\nconst ResponsiveDataText = styled(TYPE.black)`\n  font-size: 20px;\n\n  ${({\n  theme\n}) => theme.mediaWidth.upToSmall`\n    font-size: 14px;\n  `};\n`;\n_c4 = ResponsiveDataText;\nconst ResponsiveBodyText = styled(TYPE.black)`\n  font-size: 16px;\n\n  ${({\n  theme\n}) => theme.mediaWidth.upToSmall`\n    font-size: 12px;\n  `};\n`;\n_c5 = ResponsiveBodyText;\n\nfunction localNumber(val) {\n  return parseFloat(parseFloat(val.toString()).toFixed(0)).toLocaleString();\n}\n\nfunction DelegateInfo({\n  match: {\n    params: {\n      protocolID,\n      delegateAddress\n    }\n  }\n}) {\n  _s();\n\n  var _identity$twitter, _useENS, _delegateInfo$votes, _delegateInfo$votes2;\n\n  // if valid protocol id passed in, update global active protocol\n  useProtocolUpdate(protocolID);\n  const {\n    chainId,\n    account\n  } = useActiveWeb3React();\n  const [activeProtocol] = useActiveProtocol();\n  const formattedAddress = isAddress(delegateAddress); // get governance data and format amounts\n\n  const delegateInfo = useDelegateInfo(delegateAddress);\n  const delegatedVotes = delegateInfo ? localNumber(delegateInfo.delegatedVotes) : delegateInfo === null ? '0' : /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 5\n  }, this);\n  const userDelegatee = useUserDelegatee(formattedAddress);\n  const holdersRepresented = delegateInfo ? localNumber(delegateInfo.tokenHoldersRepresentedAmount - (userDelegatee && userDelegatee === formattedAddress ? 1 : 0)) : delegateInfo === null ? '0' : /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 127,\n    columnNumber: 5\n  }, this);\n  const isEOA = useIsEOA(delegateAddress); // proposal data\n\n  const proposalData = useAllProposals();\n  const proposalStatuses = useAllProposalStates(); // get gov token balance\n\n  const govToken = useGovernanceToken();\n  const delegateTokenBalance = useTokenBalance(formattedAddress ? formattedAddress : undefined, govToken); // user gov data\n\n  const isDelegatee = userDelegatee && delegateAddress ? userDelegatee.toLowerCase() === delegateAddress.toLowerCase() : false; // don't show govToken balance for Aave until multi-token support implemented in Sybil\n\n  const isAave = useIsAave(); // get social data from Sybil list\n\n  const identity = useIdentity(delegateAddress);\n  const twitterHandle = identity === null || identity === void 0 ? void 0 : (_identity$twitter = identity.twitter) === null || _identity$twitter === void 0 ? void 0 : _identity$twitter.handle;\n  const twitterData = useTwitterProfileData(twitterHandle);\n  const [allIdentities] = useAllIdentities(); // ens name if they have it\n\n  const ensName = (_useENS = useENS(formattedAddress ? formattedAddress : null)) === null || _useENS === void 0 ? void 0 : _useENS.name;\n  const nameShortened = nameOrAddress(formattedAddress ? formattedAddress : undefined, allIdentities, true, delegateInfo === null || delegateInfo === void 0 ? void 0 : delegateInfo.autonomous, ensName); // toggle for showing delegation modal with prefilled delegate\n\n  const toggelDelegateModal = useToggleModal(ApplicationModal.DELEGATE);\n  const [, setPrefilledDelegate] = useModalDelegatee(); // detect if they can delegate\n\n  const userTokenBalance = useTokenBalance(account !== null && account !== void 0 ? account : undefined, govToken);\n  const showDelegateButton = Boolean(userTokenBalance && JSBI.greaterThan(userTokenBalance.raw, BIG_INT_ZERO)); // mainnet only\n\n  if (chainId && chainId !== ChainId.MAINNET) {\n    return /*#__PURE__*/_jsxDEV(BodyWrapper, {\n      children: /*#__PURE__*/_jsxDEV(OutlineCard, {\n        children: \"Please switch to Ethereum mainnet. \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(BodyWrapper, {\n    children: formattedAddress && chainId && delegateAddress ? /*#__PURE__*/_jsxDEV(AutoColumn, {\n      gap: \"lg\",\n      children: [/*#__PURE__*/_jsxDEV(RowFixed, {\n        style: {\n          width: '100%',\n          height: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(ArrowWrapper, {\n          to: '/delegates/' + (activeProtocol === null || activeProtocol === void 0 ? void 0 : activeProtocol.id),\n          children: /*#__PURE__*/_jsxDEV(TYPE.body, {\n            fontSize: \"16px\",\n            fontWeight: \"600\",\n            children: \"Top Delegates\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ChevronRight, {\n          size: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ExternalLink, {\n          href: twitterHandle ? getTwitterProfileLink(twitterHandle) : getEtherscanLink(chainId, formattedAddress, 'address'),\n          children: /*#__PURE__*/_jsxDEV(TYPE.black, {\n            children: nameShortened\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(GreyCard, {\n        children: /*#__PURE__*/_jsxDEV(RowBetween, {\n          children: [/*#__PURE__*/_jsxDEV(AutoRow, {\n            gap: \"10px\",\n            children: [(twitterData === null || twitterData === void 0 ? void 0 : twitterData.profileURL) ? /*#__PURE__*/_jsxDEV(RoundedProfileImage, {\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: twitterData.profileURL,\n                alt: \"profile\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(WrappedListLogo, {\n              src: EmptyProfile\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(AutoColumn, {\n              gap: \"2px\",\n              children: [/*#__PURE__*/_jsxDEV(RowFixed, {\n                children: [/*#__PURE__*/_jsxDEV(ExternalLink, {\n                  href: twitterHandle ? getTwitterProfileLink(twitterHandle) : getEtherscanLink(chainId, formattedAddress, 'address'),\n                  children: /*#__PURE__*/_jsxDEV(TYPE.black, {\n                    children: nameShortened === formattedAddress ? ensName !== null && ensName !== void 0 ? ensName : formattedAddress : nameShortened\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 222,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 215,\n                  columnNumber: 21\n                }, this), !twitterHandle && !(delegateInfo === null || delegateInfo === void 0 ? void 0 : delegateInfo.autonomous) && /*#__PURE__*/_jsxDEV(CopyHelper, {\n                  toCopy: formattedAddress\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 226,\n                  columnNumber: 69\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 19\n              }, this), twitterHandle || (delegateInfo === null || delegateInfo === void 0 ? void 0 : delegateInfo.autonomous) || nameShortened !== shortenAddress(delegateAddress) ? /*#__PURE__*/_jsxDEV(RowFixed, {\n                children: [/*#__PURE__*/_jsxDEV(ExternalLink, {\n                  href: getEtherscanLink(chainId, formattedAddress, 'address'),\n                  children: /*#__PURE__*/_jsxDEV(TYPE.black, {\n                    fontSize: \"12px\",\n                    children: shortenAddress(delegateAddress)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 231,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(CopyHelper, {\n                  toCopy: formattedAddress\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 233,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(TYPE.black, {\n                fontSize: \"12px\",\n                children: isEOA === true ? '👤 EOA' : isEOA === false && '📜 Smart Contract'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(DelegateButton, {\n            width: \"fit-content\",\n            disabled: !showDelegateButton || !account || isDelegatee,\n            onClick: () => {\n              setPrefilledDelegate(delegateAddress);\n              toggelDelegateModal();\n            },\n            children: isDelegatee ? 'Delegated' : 'Delegate'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(GreyCard, {\n        children: /*#__PURE__*/_jsxDEV(DataRow, {\n          children: [!isAave && /*#__PURE__*/_jsxDEV(AutoColumn, {\n            gap: \"sm\",\n            children: [/*#__PURE__*/_jsxDEV(TYPE.main, {\n              fontSize: \"14px\",\n              children: `${activeProtocol === null || activeProtocol === void 0 ? void 0 : activeProtocol.token.symbol} Balance`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(ResponsiveDataText, {\n              children: delegateTokenBalance ? delegateTokenBalance === null || delegateTokenBalance === void 0 ? void 0 : delegateTokenBalance.toFixed(0) : /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 80\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(AutoColumn, {\n            gap: \"sm\",\n            children: [/*#__PURE__*/_jsxDEV(TYPE.main, {\n              fontSize: \"14px\",\n              children: \"Votes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(ResponsiveDataText, {\n              children: delegatedVotes\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(OnlyAboveSmall, {\n            children: /*#__PURE__*/_jsxDEV(AutoColumn, {\n              gap: \"sm\",\n              children: [/*#__PURE__*/_jsxDEV(TYPE.main, {\n                fontSize: \"14px\",\n                children: \"Token Holders Represented\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(ResponsiveDataText, {\n                children: holdersRepresented\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(GreyCard, {\n        children: /*#__PURE__*/_jsxDEV(AutoColumn, {\n          gap: \"lg\",\n          children: [/*#__PURE__*/_jsxDEV(TYPE.main, {\n            fontSize: \"16px\",\n            children: \"Voting History\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Break, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 15\n          }, this), delegateInfo && proposalStatuses && delegateInfo.votes ? (_delegateInfo$votes = delegateInfo.votes) === null || _delegateInfo$votes === void 0 ? void 0 : _delegateInfo$votes.map((vote, i) => {\n            const proposal = proposalData === null || proposalData === void 0 ? void 0 : proposalData[vote.proposal]; // need to offset by one because proposal ids start at 1\n\n            const index = proposal ? parseFloat(proposal === null || proposal === void 0 ? void 0 : proposal.id) - 1 : 0;\n            const status = proposalStatuses[index] ? enumerateProposalState(proposalStatuses[index]) : 'loading';\n            return proposal && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(RowBetween, {\n                style: {\n                  alignItems: 'flex-start'\n                },\n                children: [/*#__PURE__*/_jsxDEV(AutoColumn, {\n                  gap: \"sm\",\n                  style: {\n                    maxWidth: '500px'\n                  },\n                  justify: \"flex-start\",\n                  children: [/*#__PURE__*/_jsxDEV(StyledInternalLink, {\n                    to: '/proposals/' + (activeProtocol === null || activeProtocol === void 0 ? void 0 : activeProtocol.id) + '/' + proposal.id,\n                    children: /*#__PURE__*/_jsxDEV(ResponsiveBodyText, {\n                      style: {\n                        maxWidth: '240px'\n                      },\n                      children: proposal.title\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 293,\n                      columnNumber: 33\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 292,\n                    columnNumber: 31\n                  }, this), status && /*#__PURE__*/_jsxDEV(RowFixed, {\n                    children: /*#__PURE__*/_jsxDEV(ProposalStatusSmall, {\n                      status: status,\n                      children: status\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 297,\n                      columnNumber: 35\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 296,\n                    columnNumber: 33\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(AutoColumn, {\n                  gap: \"sm\",\n                  justify: \"flex-start\",\n                  style: {\n                    height: '100%'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(RowFixed, {\n                    children: [/*#__PURE__*/_jsxDEV(ResponsiveBodyText, {\n                      mr: \"6px\",\n                      ml: \"6px\",\n                      textAlign: \"right\",\n                      children: `${localNumber(vote.votes)} votes ${vote.support ? 'in favor' : 'against'}`\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 303,\n                      columnNumber: 33\n                    }, this), vote.support ? /*#__PURE__*/_jsxDEV(GreenIcon, {\n                      children: /*#__PURE__*/_jsxDEV(CheckCircle, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 308,\n                        columnNumber: 37\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 307,\n                      columnNumber: 35\n                    }, this) : /*#__PURE__*/_jsxDEV(RedIcon, {\n                      children: /*#__PURE__*/_jsxDEV(XCircle, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 312,\n                        columnNumber: 37\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 311,\n                      columnNumber: 35\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 302,\n                    columnNumber: 31\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 29\n                }, this)]\n              }, i + proposal.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 27\n              }, this), i !== 0 && /*#__PURE__*/_jsxDEV(Break, {\n                style: {\n                  marginTop: '24px'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 39\n              }, this)]\n            }, i, true, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 25\n            }, this);\n          }).reverse() : delegateInfo === null ? /*#__PURE__*/_jsxDEV(TYPE.body, {\n            children: \"No past votes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 17\n          }, this), delegateInfo && (delegateInfo === null || delegateInfo === void 0 ? void 0 : (_delegateInfo$votes2 = delegateInfo.votes) === null || _delegateInfo$votes2 === void 0 ? void 0 : _delegateInfo$votes2.length) === 0 && /*#__PURE__*/_jsxDEV(TYPE.body, {\n            children: \"No past votes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 69\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 182,\n    columnNumber: 5\n  }, this);\n}\n\n_s(DelegateInfo, \"wnbyk/cShOm2wn7r7QaXDWA4yg0=\", false, function () {\n  return [useProtocolUpdate, useActiveWeb3React, useActiveProtocol, useDelegateInfo, useUserDelegatee, useIsEOA, useAllProposals, useAllProposalStates, useGovernanceToken, useTokenBalance, useIsAave, useIdentity, useTwitterProfileData, useAllIdentities, useENS, useToggleModal, useModalDelegatee, useTokenBalance];\n});\n\n_c6 = DelegateInfo;\nexport default _c7 = withRouter(DelegateInfo);\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n\n$RefreshReg$(_c, \"ArrowWrapper\");\n$RefreshReg$(_c2, \"DataRow\");\n$RefreshReg$(_c3, \"Break\");\n$RefreshReg$(_c4, \"ResponsiveDataText\");\n$RefreshReg$(_c5, \"ResponsiveBodyText\");\n$RefreshReg$(_c6, \"DelegateInfo\");\n$RefreshReg$(_c7, \"%default%\");","map":{"version":3,"sources":["/Users/safahi/Documents/GitHub/sybil-interf/src/pages/DelegateInfo.tsx"],"names":["React","withRouter","BodyWrapper","useActiveProtocol","useDelegateInfo","useGovernanceToken","useAllProposals","useAllProposalStates","useUserDelegatee","useActiveWeb3React","ChainId","JSBI","GreyCard","OutlineCard","useProtocolUpdate","styled","RowBetween","AutoRow","RowFixed","CheckCircle","XCircle","ChevronRight","AutoColumn","EmptyProfile","RoundedProfileImage","WrappedListLogo","ProposalStatusSmall","DelegateButton","getTwitterProfileLink","getEtherscanLink","shortenAddress","isAddress","TYPE","ExternalLink","GreenIcon","RedIcon","StyledInternalLink","OnlyAboveSmall","useIdentity","useTwitterProfileData","useAllIdentities","useTokenBalance","Loader","enumerateProposalState","CopyHelper","useIsEOA","useIsAave","useToggleModal","useModalDelegatee","ApplicationModal","BIG_INT_ZERO","useENS","nameOrAddress","ArrowWrapper","theme","text1","DataRow","div","mediaWidth","upToSmall","Break","bg4","ResponsiveDataText","black","ResponsiveBodyText","localNumber","val","parseFloat","toString","toFixed","toLocaleString","DelegateInfo","match","params","protocolID","delegateAddress","chainId","account","activeProtocol","formattedAddress","delegateInfo","delegatedVotes","userDelegatee","holdersRepresented","tokenHoldersRepresentedAmount","isEOA","proposalData","proposalStatuses","govToken","delegateTokenBalance","undefined","isDelegatee","toLowerCase","isAave","identity","twitterHandle","twitter","handle","twitterData","allIdentities","ensName","name","nameShortened","autonomous","toggelDelegateModal","DELEGATE","setPrefilledDelegate","userTokenBalance","showDelegateButton","Boolean","greaterThan","raw","MAINNET","width","height","id","profileURL","token","symbol","votes","map","vote","i","proposal","index","status","alignItems","maxWidth","title","support","marginTop","reverse","length"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,WAAT,QAA4B,WAA5B;AACA,SACEC,iBADF,EAEEC,eAFF,EAGEC,kBAHF,EAIEC,eAJF,EAKEC,oBALF,EAMEC,gBANF,QAOO,2BAPP;AASA,SAASC,kBAAT,QAAmC,UAAnC;AACA,SAASC,OAAT,EAAyBC,IAAzB,QAAqC,cAArC;AACA,SAASC,QAAT,EAAmBC,WAAnB,QAAsC,oBAAtC;AACA,SAASC,iBAAT,QAAkC,4BAAlC;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,UAAT,EAAqBC,OAArB,EAA8BC,QAA9B,QAA8C,mBAA9C;AACA,SAASC,WAAT,EAAsBC,OAAtB,EAA+BC,YAA/B,QAAmD,eAAnD;AACA,SAASC,UAAT,QAA2B,sBAA3B;AACA,OAAOC,YAAP,MAAyB,mCAAzB;AACA,SACEC,mBADF,EAEEC,eAFF,EAGEC,mBAHF,EAIEC,cAJF,QAKO,iCALP;AAMA,SAASC,qBAAT,EAAgCC,gBAAhC,EAAkDC,cAAlD,EAAkEC,SAAlE,QAAmF,UAAnF;AACA,SAASC,IAAT,EAAeC,YAAf,EAA6BC,SAA7B,EAAwCC,OAAxC,EAAiDC,kBAAjD,EAAqEC,cAArE,QAA2F,UAA3F;AACA,SAASC,WAAT,EAAsBC,qBAAtB,EAA6CC,gBAA7C,QAAqE,uBAArE;AACA,SAASC,eAAT,QAAgC,uBAAhC;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,SAASC,sBAAT,QAAuC,oBAAvC;AACA,OAAOC,UAAP,MAAuB,mCAAvB;AACA,SAASC,QAAT,QAAyB,mBAAzB;AACA,SAASC,SAAT,QAA0B,sBAA1B;AACA,SAASC,cAAT,EAAyBC,iBAAzB,QAAkD,4BAAlD;AACA,SAASC,gBAAT,QAAiC,8BAAjC;AACA,SAASC,YAAT,QAA6B,cAA7B;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,SAASC,aAAT,QAA8B,kBAA9B;;AAEA,MAAMC,YAAY,GAAGtC,MAAM,CAACqB,kBAAD,CAAqB;AAChD;AACA;AACA;AACA;AACA,WAAW,CAAC;AAAEkB,EAAAA;AAAF,CAAD,KAAeA,KAAK,CAACC,KAAM;AACtC;AACA;AACA,aAAa,CAAC;AAAED,EAAAA;AAAF,CAAD,KAAeA,KAAK,CAACC,KAAM;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,CAfA;KAAMF,Y;AAiBN,MAAMG,OAAO,GAAGzC,MAAM,CAAC0C,GAAI;AAC3B;AACA;AACA;AACA,IAAI,CAAC;AAAEH,EAAAA;AAAF,CAAD,KAAeA,KAAK,CAACI,UAAN,CAAiBC,SAAU;AAC9C;AACA,GAAI;AACJ,CAPA;MAAMH,O;AASN,OAAO,MAAMI,KAAK,GAAG7C,MAAM,CAAC0C,GAAI;AAChC;AACA,sBAAsB,CAAC;AAAEH,EAAAA;AAAF,CAAD,KAAeA,KAAK,CAACO,GAAI;AAC/C;AACA,CAJO;MAAMD,K;AAMb,MAAME,kBAAkB,GAAG/C,MAAM,CAACiB,IAAI,CAAC+B,KAAN,CAAa;AAC9C;AACA;AACA,IAAI,CAAC;AAAET,EAAAA;AAAF,CAAD,KAAeA,KAAK,CAACI,UAAN,CAAiBC,SAAU;AAC9C;AACA,GAAI;AACJ,CANA;MAAMG,kB;AAQN,MAAME,kBAAkB,GAAGjD,MAAM,CAACiB,IAAI,CAAC+B,KAAN,CAAa;AAC9C;AACA;AACA,IAAI,CAAC;AAAET,EAAAA;AAAF,CAAD,KAAeA,KAAK,CAACI,UAAN,CAAiBC,SAAU;AAC9C;AACA,GAAI;AACJ,CANA;MAAMK,kB;;AAQN,SAASC,WAAT,CAAqBC,GAArB,EAAkC;AAChC,SAAOC,UAAU,CAACA,UAAU,CAACD,GAAG,CAACE,QAAJ,EAAD,CAAV,CAA2BC,OAA3B,CAAmC,CAAnC,CAAD,CAAV,CAAkDC,cAAlD,EAAP;AACD;;AAED,SAASC,YAAT,CAAsB;AACpBC,EAAAA,KAAK,EAAE;AACLC,IAAAA,MAAM,EAAE;AAAEC,MAAAA,UAAF;AAAcC,MAAAA;AAAd;AADH;AADa,CAAtB,EAI2E;AAAA;;AAAA;;AACzE;AACA7D,EAAAA,iBAAiB,CAAC4D,UAAD,CAAjB;AAEA,QAAM;AAAEE,IAAAA,OAAF;AAAWC,IAAAA;AAAX,MAAuBpE,kBAAkB,EAA/C;AACA,QAAM,CAACqE,cAAD,IAAmB3E,iBAAiB,EAA1C;AAEA,QAAM4E,gBAAgB,GAAGhD,SAAS,CAAC4C,eAAD,CAAlC,CAPyE,CASzE;;AACA,QAAMK,YAAY,GAAG5E,eAAe,CAACuE,eAAD,CAApC;AACA,QAAMM,cAAc,GAAGD,YAAY,GACjCf,WAAW,CAACe,YAAY,CAACC,cAAd,CADsB,GAE/BD,YAAY,KAAK,IAAjB,GACF,GADE,gBAGF,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,UALF;AAQA,QAAME,aAAiC,GAAG1E,gBAAgB,CAACuE,gBAAD,CAA1D;AAEA,QAAMI,kBAAkB,GAAGH,YAAY,GACrCf,WAAW,CACTe,YAAY,CAACI,6BAAb,IAA8CF,aAAa,IAAIA,aAAa,KAAKH,gBAAnC,GAAsD,CAAtD,GAA0D,CAAxG,CADS,CAD0B,GAInCC,YAAY,KAAK,IAAjB,GACF,GADE,gBAGF,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,UAPF;AAUA,QAAMK,KAAK,GAAGxC,QAAQ,CAAC8B,eAAD,CAAtB,CA/ByE,CAiCzE;;AACA,QAAMW,YAAY,GAAGhF,eAAe,EAApC;AACA,QAAMiF,gBAAgB,GAAGhF,oBAAoB,EAA7C,CAnCyE,CAqCzE;;AACA,QAAMiF,QAA2B,GAAGnF,kBAAkB,EAAtD;AACA,QAAMoF,oBAAoB,GAAGhD,eAAe,CAACsC,gBAAgB,GAAGA,gBAAH,GAAsBW,SAAvC,EAAkDF,QAAlD,CAA5C,CAvCyE,CAyCzE;;AACA,QAAMG,WAAW,GACfT,aAAa,IAAIP,eAAjB,GAAmCO,aAAa,CAACU,WAAd,OAAgCjB,eAAe,CAACiB,WAAhB,EAAnE,GAAmG,KADrG,CA1CyE,CA6CzE;;AACA,QAAMC,MAAM,GAAG/C,SAAS,EAAxB,CA9CyE,CAgDzE;;AACA,QAAMgD,QAAQ,GAAGxD,WAAW,CAACqC,eAAD,CAA5B;AACA,QAAMoB,aAAa,GAAGD,QAAH,aAAGA,QAAH,4CAAGA,QAAQ,CAAEE,OAAb,sDAAG,kBAAmBC,MAAzC;AACA,QAAMC,WAAW,GAAG3D,qBAAqB,CAACwD,aAAD,CAAzC;AACA,QAAM,CAACI,aAAD,IAAkB3D,gBAAgB,EAAxC,CApDyE,CAsDzE;;AACA,QAAM4D,OAAO,cAAGjD,MAAM,CAAC4B,gBAAgB,GAAGA,gBAAH,GAAsB,IAAvC,CAAT,4CAAG,QAAoDsB,IAApE;AAEA,QAAMC,aAAa,GAAGlD,aAAa,CACjC2B,gBAAgB,GAAGA,gBAAH,GAAsBW,SADL,EAEjCS,aAFiC,EAGjC,IAHiC,EAIjCnB,YAJiC,aAIjCA,YAJiC,uBAIjCA,YAAY,CAAEuB,UAJmB,EAKjCH,OALiC,CAAnC,CAzDyE,CAiEzE;;AACA,QAAMI,mBAAmB,GAAGzD,cAAc,CAACE,gBAAgB,CAACwD,QAAlB,CAA1C;AACA,QAAM,GAAGC,oBAAH,IAA2B1D,iBAAiB,EAAlD,CAnEyE,CAqEzE;;AACA,QAAM2D,gBAAgB,GAAGlE,eAAe,CAACoC,OAAD,aAACA,OAAD,cAACA,OAAD,GAAYa,SAAZ,EAAuBF,QAAvB,CAAxC;AACA,QAAMoB,kBAAkB,GAAGC,OAAO,CAACF,gBAAgB,IAAIhG,IAAI,CAACmG,WAAL,CAAiBH,gBAAgB,CAACI,GAAlC,EAAuC7D,YAAvC,CAArB,CAAlC,CAvEyE,CAyEzE;;AACA,MAAI0B,OAAO,IAAIA,OAAO,KAAKlE,OAAO,CAACsG,OAAnC,EAA4C;AAC1C,wBACE,QAAC,WAAD;AAAA,6BACE,QAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF;AAKD;;AAED,sBACE,QAAC,WAAD;AAAA,cACGjC,gBAAgB,IAAIH,OAApB,IAA+BD,eAA/B,gBACC,QAAC,UAAD;AAAY,MAAA,GAAG,EAAC,IAAhB;AAAA,8BACE,QAAC,QAAD;AAAU,QAAA,KAAK,EAAE;AAAEsC,UAAAA,KAAK,EAAE,MAAT;AAAiBC,UAAAA,MAAM,EAAE;AAAzB,SAAjB;AAAA,gCACE,QAAC,YAAD;AAAc,UAAA,EAAE,EAAE,iBAAgBpC,cAAhB,aAAgBA,cAAhB,uBAAgBA,cAAc,CAAEqC,EAAhC,CAAlB;AAAA,iCACE,QAAC,IAAD,CAAM,IAAN;AAAW,YAAA,QAAQ,EAAC,MAApB;AAA2B,YAAA,UAAU,EAAC,KAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBADF,eAME,QAAC,YAAD;AAAc,UAAA,IAAI,EAAE;AAApB;AAAA;AAAA;AAAA;AAAA,gBANF,eAQE,QAAC,YAAD;AACE,UAAA,IAAI,EACFpB,aAAa,GACTnE,qBAAqB,CAACmE,aAAD,CADZ,GAETlE,gBAAgB,CAAC+C,OAAD,EAAUG,gBAAV,EAA4B,SAA5B,CAJxB;AAAA,iCAOE,QAAC,IAAD,CAAM,KAAN;AAAA,sBAAauB;AAAb;AAAA;AAAA;AAAA;AAAA;AAPF;AAAA;AAAA;AAAA;AAAA,gBARF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAmBE,QAAC,QAAD;AAAA,+BACE,QAAC,UAAD;AAAA,kCACE,QAAC,OAAD;AAAS,YAAA,GAAG,EAAC,MAAb;AAAA,uBACG,CAAAJ,WAAW,SAAX,IAAAA,WAAW,WAAX,YAAAA,WAAW,CAAEkB,UAAb,iBACC,QAAC,mBAAD;AAAA,qCACE;AAAK,gBAAA,GAAG,EAAElB,WAAW,CAACkB,UAAtB;AAAkC,gBAAA,GAAG,EAAC;AAAtC;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBADD,gBAKC,QAAC,eAAD;AAAiB,cAAA,GAAG,EAAE7F;AAAtB;AAAA;AAAA;AAAA;AAAA,oBANJ,eAQE,QAAC,UAAD;AAAY,cAAA,GAAG,EAAC,KAAhB;AAAA,sCACE,QAAC,QAAD;AAAA,wCACE,QAAC,YAAD;AACE,kBAAA,IAAI,EACFwE,aAAa,GACTnE,qBAAqB,CAACmE,aAAD,CADZ,GAETlE,gBAAgB,CAAC+C,OAAD,EAAUG,gBAAV,EAA4B,SAA5B,CAJxB;AAAA,yCAOE,QAAC,IAAD,CAAM,KAAN;AAAA,8BACGuB,aAAa,KAAKvB,gBAAlB,GAAqCqB,OAArC,aAAqCA,OAArC,cAAqCA,OAArC,GAAgDrB,gBAAhD,GAAmEuB;AADtE;AAAA;AAAA;AAAA;AAAA;AAPF;AAAA;AAAA;AAAA;AAAA,wBADF,EAYG,CAACP,aAAD,IAAkB,EAACf,YAAD,aAACA,YAAD,uBAACA,YAAY,CAAEuB,UAAf,CAAlB,iBAA+C,QAAC,UAAD;AAAY,kBAAA,MAAM,EAAExB;AAApB;AAAA;AAAA;AAAA;AAAA,wBAZlD;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,EAeGgB,aAAa,KAAIf,YAAJ,aAAIA,YAAJ,uBAAIA,YAAY,CAAEuB,UAAlB,CAAb,IAA6CD,aAAa,KAAKxE,cAAc,CAAC6C,eAAD,CAA7E,gBACC,QAAC,QAAD;AAAA,wCACE,QAAC,YAAD;AAAc,kBAAA,IAAI,EAAE9C,gBAAgB,CAAC+C,OAAD,EAAUG,gBAAV,EAA4B,SAA5B,CAApC;AAAA,yCACE,QAAC,IAAD,CAAM,KAAN;AAAY,oBAAA,QAAQ,EAAC,MAArB;AAAA,8BAA6BjD,cAAc,CAAC6C,eAAD;AAA3C;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,wBADF,eAIE,QAAC,UAAD;AAAY,kBAAA,MAAM,EAAEI;AAApB;AAAA;AAAA;AAAA;AAAA,wBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,sBADD,gBAQC,QAAC,IAAD,CAAM,KAAN;AAAY,gBAAA,QAAQ,EAAC,MAArB;AAAA,0BACGM,KAAK,KAAK,IAAV,GAAiB,QAAjB,GAA4BA,KAAK,KAAK,KAAV,IAAmB;AADlD;AAAA;AAAA;AAAA;AAAA,sBAvBJ;AAAA;AAAA;AAAA;AAAA;AAAA,oBARF;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAsCE,QAAC,cAAD;AACE,YAAA,KAAK,EAAC,aADR;AAEE,YAAA,QAAQ,EAAE,CAACuB,kBAAD,IAAuB,CAAC/B,OAAxB,IAAmCc,WAF/C;AAGE,YAAA,OAAO,EAAE,MAAM;AACbe,cAAAA,oBAAoB,CAAC/B,eAAD,CAApB;AACA6B,cAAAA,mBAAmB;AACpB,aANH;AAAA,sBAQGb,WAAW,GAAG,WAAH,GAAiB;AAR/B;AAAA;AAAA;AAAA;AAAA,kBAtCF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAnBF,eAsEE,QAAC,QAAD;AAAA,+BACE,QAAC,OAAD;AAAA,qBACG,CAACE,MAAD,iBACC,QAAC,UAAD;AAAY,YAAA,GAAG,EAAC,IAAhB;AAAA,oCACE,QAAC,IAAD,CAAM,IAAN;AAAW,cAAA,QAAQ,EAAC,MAApB;AAAA,wBAA6B,GAAEf,cAAH,aAAGA,cAAH,uBAAGA,cAAc,CAAEuC,KAAhB,CAAsBC,MAAO;AAA5D;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE,QAAC,kBAAD;AAAA,wBACG7B,oBAAoB,GAAGA,oBAAH,aAAGA,oBAAH,uBAAGA,oBAAoB,CAAEpB,OAAtB,CAA8B,CAA9B,CAAH,gBAAsC,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAD7D;AAAA;AAAA;AAAA;AAAA,oBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ,eASE,QAAC,UAAD;AAAY,YAAA,GAAG,EAAC,IAAhB;AAAA,oCACE,QAAC,IAAD,CAAM,IAAN;AAAW,cAAA,QAAQ,EAAC,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE,QAAC,kBAAD;AAAA,wBAAqBY;AAArB;AAAA;AAAA;AAAA;AAAA,oBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,kBATF,eAaE,QAAC,cAAD;AAAA,mCACE,QAAC,UAAD;AAAY,cAAA,GAAG,EAAC,IAAhB;AAAA,sCACE,QAAC,IAAD,CAAM,IAAN;AAAW,gBAAA,QAAQ,EAAC,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE,QAAC,kBAAD;AAAA,0BAAqBE;AAArB;AAAA;AAAA;AAAA;AAAA,sBAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBAbF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAtEF,eA4FE,QAAC,QAAD;AAAA,+BACE,QAAC,UAAD;AAAY,UAAA,GAAG,EAAC,IAAhB;AAAA,kCACE,QAAC,IAAD,CAAM,IAAN;AAAW,YAAA,QAAQ,EAAC,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE,QAAC,KAAD;AAAA;AAAA;AAAA;AAAA,kBAFF,EAGGH,YAAY,IAAIO,gBAAhB,IAAoCP,YAAY,CAACuC,KAAjD,0BACCvC,YAAY,CAACuC,KADd,wDACC,oBACIC,GADJ,CACQ,CAACC,IAAD,EAAOC,CAAP,KAAa;AACjB,kBAAMC,QAAQ,GAAGrC,YAAH,aAAGA,YAAH,uBAAGA,YAAY,CAAGmC,IAAI,CAACE,QAAR,CAA7B,CADiB,CAEjB;;AACA,kBAAMC,KAAK,GAAGD,QAAQ,GAAGxD,UAAU,CAACwD,QAAD,aAACA,QAAD,uBAACA,QAAQ,CAAER,EAAX,CAAV,GAA2B,CAA9B,GAAkC,CAAxD;AACA,kBAAMU,MAAM,GAAGtC,gBAAgB,CAACqC,KAAD,CAAhB,GAA0BjF,sBAAsB,CAAC4C,gBAAgB,CAACqC,KAAD,CAAjB,CAAhD,GAA4E,SAA3F;AACA,mBACED,QAAQ,iBACN;AAAA,sCACE,QAAC,UAAD;AAAkC,gBAAA,KAAK,EAAE;AAAEG,kBAAAA,UAAU,EAAE;AAAd,iBAAzC;AAAA,wCACE,QAAC,UAAD;AAAY,kBAAA,GAAG,EAAC,IAAhB;AAAqB,kBAAA,KAAK,EAAE;AAAEC,oBAAAA,QAAQ,EAAE;AAAZ,mBAA5B;AAAmD,kBAAA,OAAO,EAAC,YAA3D;AAAA,0CACE,QAAC,kBAAD;AAAoB,oBAAA,EAAE,EAAE,iBAAgBjD,cAAhB,aAAgBA,cAAhB,uBAAgBA,cAAc,CAAEqC,EAAhC,IAAqC,GAArC,GAA2CQ,QAAQ,CAACR,EAA5E;AAAA,2CACE,QAAC,kBAAD;AAAoB,sBAAA,KAAK,EAAE;AAAEY,wBAAAA,QAAQ,EAAE;AAAZ,uBAA3B;AAAA,gCAAmDJ,QAAQ,CAACK;AAA5D;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,0BADF,EAIGH,MAAM,iBACL,QAAC,QAAD;AAAA,2CACE,QAAC,mBAAD;AAAqB,sBAAA,MAAM,EAAEA,MAA7B;AAAA,gCAAsCA;AAAtC;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,0BALJ;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAWE,QAAC,UAAD;AAAY,kBAAA,GAAG,EAAC,IAAhB;AAAqB,kBAAA,OAAO,EAAC,YAA7B;AAA0C,kBAAA,KAAK,EAAE;AAAEX,oBAAAA,MAAM,EAAE;AAAV,mBAAjD;AAAA,yCACE,QAAC,QAAD;AAAA,4CACE,QAAC,kBAAD;AAAoB,sBAAA,EAAE,EAAC,KAAvB;AAA6B,sBAAA,EAAE,EAAC,KAAhC;AAAsC,sBAAA,SAAS,EAAC,OAAhD;AAAA,gCACI,GAAEjD,WAAW,CAACwD,IAAI,CAACF,KAAN,CAAa,UAASE,IAAI,CAACQ,OAAL,GAAe,UAAf,GAA4B,SAAU;AAD7E;AAAA;AAAA;AAAA;AAAA,4BADF,EAIGR,IAAI,CAACQ,OAAL,gBACC,QAAC,SAAD;AAAA,6CACE,QAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,4BADD,gBAKC,QAAC,OAAD;AAAA,6CACE,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,4BATJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,wBAXF;AAAA,iBAAiBP,CAAC,GAAGC,QAAQ,CAACR,EAA9B;AAAA;AAAA;AAAA;AAAA,sBADF,EA6BGO,CAAC,KAAK,CAAN,iBAAW,QAAC,KAAD;AAAO,gBAAA,KAAK,EAAE;AAAEQ,kBAAAA,SAAS,EAAE;AAAb;AAAd;AAAA;AAAA;AAAA;AAAA,sBA7Bd;AAAA,eAAUR,CAAV;AAAA;AAAA;AAAA;AAAA,oBAFJ;AAmCD,WAzCH,EA0CGS,OA1CH,EADD,GA4CGnD,YAAY,KAAK,IAAjB,gBACF,QAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADE,gBAGF,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,kBAlDJ,EAoDGA,YAAY,IAAI,CAAAA,YAAY,SAAZ,IAAAA,YAAY,WAAZ,oCAAAA,YAAY,CAAEuC,KAAd,8EAAqBa,MAArB,MAAgC,CAAhD,iBAAqD,QAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBApDxD;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cA5FF;AAAA;AAAA;AAAA;AAAA;AAAA,YADD,gBAuJC,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAxJJ;AAAA;AAAA;AAAA;AAAA,UADF;AA6JD;;GAnPQ7D,Y;UAMPzD,iB,EAE6BL,kB,EACJN,iB,EAKJC,e,EASqBI,gB,EAY5BqC,Q,EAGOvC,e,EACIC,oB,EAGWF,kB,EACPoC,e,EAOdK,S,EAGER,W,EAEGC,qB,EACIC,gB,EAGRW,M,EAWYJ,c,EACKC,iB,EAGRP,e;;;MA1ElB8B,Y;AAqPT,qBAAetE,UAAU,CAACsE,YAAD,CAAzB","sourcesContent":["import React from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { BodyWrapper } from './AppBody'\nimport {\n  useActiveProtocol,\n  useDelegateInfo,\n  useGovernanceToken,\n  useAllProposals,\n  useAllProposalStates,\n  useUserDelegatee,\n} from '../state/governance/hooks'\nimport { RouteComponentProps } from 'react-router-dom'\nimport { useActiveWeb3React } from '../hooks'\nimport { ChainId, Token, JSBI } from '@uniswap/sdk'\nimport { GreyCard, OutlineCard } from '../components/Card'\nimport { useProtocolUpdate } from '../hooks/useProtocolUpdate'\nimport styled from 'styled-components'\nimport { RowBetween, AutoRow, RowFixed } from '../components/Row'\nimport { CheckCircle, XCircle, ChevronRight } from 'react-feather'\nimport { AutoColumn } from '../components/Column'\nimport EmptyProfile from '../assets/images/emptyprofile.png'\nimport {\n  RoundedProfileImage,\n  WrappedListLogo,\n  ProposalStatusSmall,\n  DelegateButton,\n} from '../components/governance/styled'\nimport { getTwitterProfileLink, getEtherscanLink, shortenAddress, isAddress } from '../utils'\nimport { TYPE, ExternalLink, GreenIcon, RedIcon, StyledInternalLink, OnlyAboveSmall } from '../theme'\nimport { useIdentity, useTwitterProfileData, useAllIdentities } from '../state/social/hooks'\nimport { useTokenBalance } from '../state/wallet/hooks'\nimport Loader from '../components/Loader'\nimport { enumerateProposalState } from '../data/governance'\nimport CopyHelper from '../components/AccountDetails/Copy'\nimport { useIsEOA } from '../hooks/useIsEOA'\nimport { useIsAave } from '../hooks/useContract'\nimport { useToggleModal, useModalDelegatee } from '../state/application/hooks'\nimport { ApplicationModal } from '../state/application/actions'\nimport { BIG_INT_ZERO } from '../constants'\nimport useENS from '../hooks/useENS'\nimport { nameOrAddress } from '../utils/getName'\n\nconst ArrowWrapper = styled(StyledInternalLink)`\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  height: 24px;\n  color: ${({ theme }) => theme.text1};\n\n  a {\n    color: ${({ theme }) => theme.text1};\n    text-decoration: none;\n  }\n  :hover {\n    text-decoration: none;\n    cursor: pointer;\n  }\n`\n\nconst DataRow = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    grid-template-columns: 1fr 1fr;\n  `};\n`\n\nexport const Break = styled.div`\n  width: 100%;\n  background-color: ${({ theme }) => theme.bg4};\n  height: 1px;\n`\n\nconst ResponsiveDataText = styled(TYPE.black)`\n  font-size: 20px;\n\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    font-size: 14px;\n  `};\n`\n\nconst ResponsiveBodyText = styled(TYPE.black)`\n  font-size: 16px;\n\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    font-size: 12px;\n  `};\n`\n\nfunction localNumber(val: number) {\n  return parseFloat(parseFloat(val.toString()).toFixed(0)).toLocaleString()\n}\n\nfunction DelegateInfo({\n  match: {\n    params: { protocolID, delegateAddress },\n  },\n}: RouteComponentProps<{ protocolID?: string; delegateAddress?: string }>) {\n  // if valid protocol id passed in, update global active protocol\n  useProtocolUpdate(protocolID)\n\n  const { chainId, account } = useActiveWeb3React()\n  const [activeProtocol] = useActiveProtocol()\n\n  const formattedAddress = isAddress(delegateAddress)\n\n  // get governance data and format amounts\n  const delegateInfo = useDelegateInfo(delegateAddress)\n  const delegatedVotes = delegateInfo ? (\n    localNumber(delegateInfo.delegatedVotes)\n  ) : delegateInfo === null ? (\n    '0'\n  ) : (\n    <Loader />\n  )\n\n  const userDelegatee: string | undefined = useUserDelegatee(formattedAddress)\n\n  const holdersRepresented = delegateInfo ? (\n    localNumber(\n      delegateInfo.tokenHoldersRepresentedAmount - (userDelegatee && userDelegatee === formattedAddress ? 1 : 0)\n    )\n  ) : delegateInfo === null ? (\n    '0'\n  ) : (\n    <Loader />\n  )\n\n  const isEOA = useIsEOA(delegateAddress)\n\n  // proposal data\n  const proposalData = useAllProposals()\n  const proposalStatuses = useAllProposalStates()\n\n  // get gov token balance\n  const govToken: Token | undefined = useGovernanceToken()\n  const delegateTokenBalance = useTokenBalance(formattedAddress ? formattedAddress : undefined, govToken)\n\n  // user gov data\n  const isDelegatee =\n    userDelegatee && delegateAddress ? userDelegatee.toLowerCase() === delegateAddress.toLowerCase() : false\n\n  // don't show govToken balance for Aave until multi-token support implemented in Sybil\n  const isAave = useIsAave()\n\n  // get social data from Sybil list\n  const identity = useIdentity(delegateAddress)\n  const twitterHandle = identity?.twitter?.handle\n  const twitterData = useTwitterProfileData(twitterHandle)\n  const [allIdentities] = useAllIdentities()\n\n  // ens name if they have it\n  const ensName = useENS(formattedAddress ? formattedAddress : null)?.name\n\n  const nameShortened = nameOrAddress(\n    formattedAddress ? formattedAddress : undefined,\n    allIdentities,\n    true,\n    delegateInfo?.autonomous,\n    ensName\n  )\n\n  // toggle for showing delegation modal with prefilled delegate\n  const toggelDelegateModal = useToggleModal(ApplicationModal.DELEGATE)\n  const [, setPrefilledDelegate] = useModalDelegatee()\n\n  // detect if they can delegate\n  const userTokenBalance = useTokenBalance(account ?? undefined, govToken)\n  const showDelegateButton = Boolean(userTokenBalance && JSBI.greaterThan(userTokenBalance.raw, BIG_INT_ZERO))\n\n  // mainnet only\n  if (chainId && chainId !== ChainId.MAINNET) {\n    return (\n      <BodyWrapper>\n        <OutlineCard>Please switch to Ethereum mainnet. </OutlineCard>\n      </BodyWrapper>\n    )\n  }\n\n  return (\n    <BodyWrapper>\n      {formattedAddress && chainId && delegateAddress ? (\n        <AutoColumn gap=\"lg\">\n          <RowFixed style={{ width: '100%', height: '20px' }}>\n            <ArrowWrapper to={'/delegates/' + activeProtocol?.id}>\n              <TYPE.body fontSize=\"16px\" fontWeight=\"600\">\n                Top Delegates\n              </TYPE.body>\n            </ArrowWrapper>\n            <ChevronRight size={16} />\n\n            <ExternalLink\n              href={\n                twitterHandle\n                  ? getTwitterProfileLink(twitterHandle)\n                  : getEtherscanLink(chainId, formattedAddress, 'address')\n              }\n            >\n              <TYPE.black>{nameShortened}</TYPE.black>\n            </ExternalLink>\n          </RowFixed>\n          <GreyCard>\n            <RowBetween>\n              <AutoRow gap=\"10px\">\n                {twitterData?.profileURL ? (\n                  <RoundedProfileImage>\n                    <img src={twitterData.profileURL} alt=\"profile\" />\n                  </RoundedProfileImage>\n                ) : (\n                  <WrappedListLogo src={EmptyProfile} />\n                )}\n                <AutoColumn gap=\"2px\">\n                  <RowFixed>\n                    <ExternalLink\n                      href={\n                        twitterHandle\n                          ? getTwitterProfileLink(twitterHandle)\n                          : getEtherscanLink(chainId, formattedAddress, 'address')\n                      }\n                    >\n                      <TYPE.black>\n                        {nameShortened === formattedAddress ? ensName ?? formattedAddress : nameShortened}\n                      </TYPE.black>\n                    </ExternalLink>\n                    {!twitterHandle && !delegateInfo?.autonomous && <CopyHelper toCopy={formattedAddress} />}\n                  </RowFixed>\n                  {twitterHandle || delegateInfo?.autonomous || nameShortened !== shortenAddress(delegateAddress) ? (\n                    <RowFixed>\n                      <ExternalLink href={getEtherscanLink(chainId, formattedAddress, 'address')}>\n                        <TYPE.black fontSize=\"12px\">{shortenAddress(delegateAddress)}</TYPE.black>\n                      </ExternalLink>\n                      <CopyHelper toCopy={formattedAddress} />\n                    </RowFixed>\n                  ) : (\n                    <TYPE.black fontSize=\"12px\">\n                      {isEOA === true ? '👤 EOA' : isEOA === false && '📜 Smart Contract'}\n                    </TYPE.black>\n                  )}\n                </AutoColumn>\n              </AutoRow>\n              <DelegateButton\n                width=\"fit-content\"\n                disabled={!showDelegateButton || !account || isDelegatee}\n                onClick={() => {\n                  setPrefilledDelegate(delegateAddress)\n                  toggelDelegateModal()\n                }}\n              >\n                {isDelegatee ? 'Delegated' : 'Delegate'}\n              </DelegateButton>\n            </RowBetween>\n          </GreyCard>\n          <GreyCard>\n            <DataRow>\n              {!isAave && (\n                <AutoColumn gap=\"sm\">\n                  <TYPE.main fontSize=\"14px\">{`${activeProtocol?.token.symbol} Balance`}</TYPE.main>\n                  <ResponsiveDataText>\n                    {delegateTokenBalance ? delegateTokenBalance?.toFixed(0) : <Loader />}\n                  </ResponsiveDataText>\n                </AutoColumn>\n              )}\n              <AutoColumn gap=\"sm\">\n                <TYPE.main fontSize=\"14px\">Votes</TYPE.main>\n                <ResponsiveDataText>{delegatedVotes}</ResponsiveDataText>\n              </AutoColumn>\n              <OnlyAboveSmall>\n                <AutoColumn gap=\"sm\">\n                  <TYPE.main fontSize=\"14px\">Token Holders Represented</TYPE.main>\n                  <ResponsiveDataText>{holdersRepresented}</ResponsiveDataText>\n                </AutoColumn>\n              </OnlyAboveSmall>\n            </DataRow>\n          </GreyCard>\n          <GreyCard>\n            <AutoColumn gap=\"lg\">\n              <TYPE.main fontSize=\"16px\">Voting History</TYPE.main>\n              <Break />\n              {delegateInfo && proposalStatuses && delegateInfo.votes ? (\n                delegateInfo.votes\n                  ?.map((vote, i) => {\n                    const proposal = proposalData?.[vote.proposal]\n                    // need to offset by one because proposal ids start at 1\n                    const index = proposal ? parseFloat(proposal?.id) - 1 : 0\n                    const status = proposalStatuses[index] ? enumerateProposalState(proposalStatuses[index]) : 'loading'\n                    return (\n                      proposal && (\n                        <div key={i}>\n                          <RowBetween key={i + proposal.id} style={{ alignItems: 'flex-start' }}>\n                            <AutoColumn gap=\"sm\" style={{ maxWidth: '500px' }} justify=\"flex-start\">\n                              <StyledInternalLink to={'/proposals/' + activeProtocol?.id + '/' + proposal.id}>\n                                <ResponsiveBodyText style={{ maxWidth: '240px' }}>{proposal.title}</ResponsiveBodyText>\n                              </StyledInternalLink>\n                              {status && (\n                                <RowFixed>\n                                  <ProposalStatusSmall status={status}>{status}</ProposalStatusSmall>\n                                </RowFixed>\n                              )}\n                            </AutoColumn>\n                            <AutoColumn gap=\"sm\" justify=\"flex-start\" style={{ height: '100%' }}>\n                              <RowFixed>\n                                <ResponsiveBodyText mr=\"6px\" ml=\"6px\" textAlign=\"right\">\n                                  {`${localNumber(vote.votes)} votes ${vote.support ? 'in favor' : 'against'}`}\n                                </ResponsiveBodyText>\n                                {vote.support ? (\n                                  <GreenIcon>\n                                    <CheckCircle />\n                                  </GreenIcon>\n                                ) : (\n                                  <RedIcon>\n                                    <XCircle />\n                                  </RedIcon>\n                                )}\n                              </RowFixed>\n                            </AutoColumn>\n                          </RowBetween>\n                          {i !== 0 && <Break style={{ marginTop: '24px' }} />}\n                        </div>\n                      )\n                    )\n                  })\n                  .reverse()\n              ) : delegateInfo === null ? (\n                <TYPE.body>No past votes</TYPE.body>\n              ) : (\n                <Loader />\n              )}\n              {delegateInfo && delegateInfo?.votes?.length === 0 && <TYPE.body>No past votes</TYPE.body>}\n            </AutoColumn>\n          </GreyCard>\n        </AutoColumn>\n      ) : (\n        <Loader />\n      )}\n    </BodyWrapper>\n  )\n}\n\nexport default withRouter(DelegateInfo)\n"]},"metadata":{},"sourceType":"module"}