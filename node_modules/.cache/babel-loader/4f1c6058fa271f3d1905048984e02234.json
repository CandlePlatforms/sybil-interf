{"ast":null,"code":"var _jsxFileName = \"/Users/safahi/Documents/GitHub/sybil-interf/src/components/governance/DelegateList.tsx\",\n    _s2 = $RefreshSig$();\n\nimport React, { useMemo, useState } from 'react';\nimport styled from 'styled-components';\nimport { AutoColumn } from '../Column';\nimport { TYPE, BlankInternalLink, OnlyAboveExtraSmall, OnlyAboveSmall, OnlyAboveLarge } from '../../theme';\nimport Row, { AutoRow, RowBetween, RowFixed } from '../Row';\nimport EmptyProfile from '../../assets/images/emptyprofile.png';\nimport { shortenAddress } from '../../utils';\nimport useENSName from '../../hooks/useENSName';\nimport { useActiveProtocol, useGlobalData, useGovernanceToken, useFilterActive, useTopDelegates, useUserDelegatee, useVerifiedDelegates, useMaxFetched } from '../../state/governance/hooks';\nimport { WrappedListLogo, RoundedProfileImage, DelegateButton, EmptyWrapper } from './styled';\nimport Card from '../Card';\nimport { useActiveWeb3React } from '../../hooks';\nimport { useToggleModal, useModalDelegatee } from '../../state/application/hooks';\nimport { ApplicationModal } from '../../state/application/actions';\nimport { Percent, JSBI } from '@uniswap/sdk';\nimport { LoadingRows } from '../Loader';\nimport { BIG_INT_ZERO } from '../../constants';\nimport { useTokenBalance } from '../../state/wallet/hooks';\nimport { useAllIdentities, useTwitterProfileData } from '../../state/social/hooks';\nimport { nameOrAddress } from '../../utils/getName';\nimport { FETCHING_INTERVAL } from '../../state/governance/reducer';\nimport Toggle from 'components/Toggle';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ColumnLabel = styled(TYPE.darkGray)`\n  white-space: no-wrap;\n  font-size: 15px;\n`;\n_c = ColumnLabel;\nconst NoWrap = styled(TYPE.black)`\n  white-space: nowrap;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n`;\n_c2 = NoWrap;\nconst DataRow = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 132px 100px 1fr;\n  grid-column-gap: 1rem;\n\n  position: relative;\n  margin: 6px 0;\n  border-left: 3px solid transparent;\n\n  :hover::after {\n    content: '';\n    border-left: 3px solid ${({\n  theme\n}) => theme.primary1};\n    position: absolute;\n    margin-left: calc(-2rem - 4px);\n    height: 100%;\n    width: 1px;\n  }\n\n  &:first-child {\n    :hover {\n      border-left: 3px solid transparent;\n    }\n  }\n\n  ${({\n  theme\n}) => theme.mediaWidth.upToExtraLarge`\n    grid-template-columns: 1fr 100px 1fr;\n     > *:nth-child(2){\n      display: none;\n    }\n  `};\n\n  @media (max-width: 1370px) {\n    grid-template-columns: 1fr 1fr;\n    padding: 0 0.5rem;\n    > *:nth-child(3) {\n      display: none;\n    }\n  }\n\n  ${({\n  theme\n}) => theme.mediaWidth.upToLarge`\n    grid-template-columns: 1fr 1fr;\n  `};\n\n  ${({\n  theme\n}) => theme.mediaWidth.upToSmall`\n    grid-template-columns: 1fr 1fr;\n    margin: 0;\n    padding: 0 1rem;\n  `};\n`;\n_c3 = DataRow;\nconst AccountLinkGroup = styled(AutoRow)`\n  :hover {\n    /* opacity: 0.5; */\n    /* border-radius: 8px; */\n  }\n\n  flex-wrap: nowrap;\n`;\n_c4 = AccountLinkGroup;\nconst VoteText = styled(NoWrap)`\n  width: 120px;\n  ${({\n  theme\n}) => theme.mediaWidth.upToSmall`\n    font-size: 14px;\n  `};\n`;\n_c5 = VoteText;\nconst FixedRankWidth = styled.div`\n  width: 12px;\n  text-align: right;\n  margin-right: 0px;\n`;\n_c6 = FixedRankWidth;\nconst PageButtons = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  margin-top: 2em;\n  margin-bottom: 0.5em;\n`;\n_c7 = PageButtons;\nconst Arrow = styled.div`\n  color: ${({\n  theme\n}) => theme.primary1};\n  opacity: ${props => props.faded ? 0.3 : 1};\n  padding: 0 20px;\n  user-select: none;\n  :hover {\n    cursor: pointer;\n  }\n`;\n_c8 = Arrow;\nconst HiddenBelow1080 = styled.span`\n  @media (max-width: 1080px) {\n    display: none;\n  }\n`;\n_c9 = HiddenBelow1080;\nconst ResponsiveText = styled(TYPE.black)`\n  ${({\n  theme\n}) => theme.mediaWidth.upToSmall`\n    font-size: 14px;\n  `};\n`;\n_c10 = ResponsiveText;\nexport const Break = styled.div`\n  width: 100%;\n  background-color: ${({\n  theme\n}) => theme.bg3};\n  height: 1px;\n  margin: 12px 0;\n`;\n_c11 = Break;\nexport default function DelegateList({\n  hideZero\n}) {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  const {\n    chainId,\n    account\n  } = useActiveWeb3React(); // get delegate lists, filter if active\n\n  const [topDelegates] = useTopDelegates();\n  const [verifiedDelegates] = useVerifiedDelegates();\n  const [filterActive] = useFilterActive();\n  const filteredDelegates = filterActive ? verifiedDelegates : topDelegates; // toggle for showing delegation modal with prefilled delegate\n\n  const toggelDelegateModal = useToggleModal(ApplicationModal.DELEGATE);\n  const [, setPrefilledDelegate] = useModalDelegatee(); // used to calculate % ownership of votes\n\n  const [activeProtocol] = useActiveProtocol();\n  const [globalData] = useGlobalData(); // show delegate button if they have available votes or if theyve delegated to someone else\n\n  const govToken = useGovernanceToken();\n  const govTokenBalance = useTokenBalance(account !== null && account !== void 0 ? account : undefined, govToken);\n  const showDelegateButton = Boolean(govTokenBalance && JSBI.greaterThan(govTokenBalance.raw, BIG_INT_ZERO)); // user gov data\n\n  const userDelegatee = useUserDelegatee(); // show indentity if it exists instead of address\n\n  const [allIdentities] = useAllIdentities(); // filter on verified or not\n\n  const [filter, setFilter] = useFilterActive();\n  const manualEntries = useMemo(() => {\n    return allIdentities && filteredDelegates ? Object.keys(allIdentities).filter(address => {\n      const found = filteredDelegates.find(d => d.id === address);\n      return !found;\n    }).map(address => {\n      var _identity$twitter$han, _identity$twitter;\n\n      const identity = allIdentities[address];\n      return {\n        handle: (_identity$twitter$han = identity === null || identity === void 0 ? void 0 : (_identity$twitter = identity.twitter) === null || _identity$twitter === void 0 ? void 0 : _identity$twitter.handle) !== null && _identity$twitter$han !== void 0 ? _identity$twitter$han : undefined,\n        address\n      };\n    }) : [];\n  }, [allIdentities, filteredDelegates]);\n  const formattedManualDelegates = useMemo(() => {\n    return manualEntries.map(entry => {\n      return {\n        id: entry.address,\n        delegatedVotes: 0,\n        delegatedVotesRaw: 0,\n        votePercent: new Percent(BIG_INT_ZERO),\n        votes: [],\n        EOA: true,\n        autonomous: undefined,\n        handle: entry.handle,\n        imageURL: undefined\n      };\n    });\n  }, [manualEntries]);\n  const [page, setPage] = useState(1);\n  const [maxFetched, setMaxFetched] = useMaxFetched();\n  const combinedDelegates = filterActive ? filteredDelegates === null || filteredDelegates === void 0 ? void 0 : filteredDelegates.concat(formattedManualDelegates) : filteredDelegates;\n  const maxCount = filterActive ? combinedDelegates ? combinedDelegates.filter(d => hideZero ? !!(d.delegatedVotesRaw > 1) : true).length : 0 : globalData ? globalData.totalDelegates : 1;\n  const maxPage = maxCount ? Math.floor(maxCount / FETCHING_INTERVAL) + 1 : 1;\n\n  const DelegateRow = ({\n    d,\n    index\n  }) => {\n    _s();\n\n    var _allIdentities$d$id, _allIdentities$d$id$t, _ref, _d$imageURL, _d$id;\n\n    const votes = parseFloat(parseFloat(d.delegatedVotes.toString()).toFixed(0)).toLocaleString();\n    const twitterData = useTwitterProfileData(allIdentities === null || allIdentities === void 0 ? void 0 : (_allIdentities$d$id = allIdentities[d.id]) === null || _allIdentities$d$id === void 0 ? void 0 : (_allIdentities$d$id$t = _allIdentities$d$id.twitter) === null || _allIdentities$d$id$t === void 0 ? void 0 : _allIdentities$d$id$t.handle);\n    const imageURL = (_ref = (_d$imageURL = d.imageURL) !== null && _d$imageURL !== void 0 ? _d$imageURL : twitterData === null || twitterData === void 0 ? void 0 : twitterData.profileURL) !== null && _ref !== void 0 ? _ref : undefined;\n    const isDelegatee = userDelegatee ? userDelegatee.toLowerCase() === d.id.toLowerCase() : false;\n    const {\n      ENSName\n    } = useENSName((_d$id = d.id) !== null && _d$id !== void 0 ? _d$id : undefined);\n    const name = nameOrAddress(d.id, allIdentities, true, d.autonomous, ENSName);\n    const percentOfVotes = globalData ? globalData.delegatedVotesRaw === 0 ? 0 : new Percent(JSBI.BigInt(d.delegatedVotesRaw), JSBI.BigInt(globalData.delegatedVotesRaw)).toFixed(3) + '%' : '-';\n    return /*#__PURE__*/_jsxDEV(AutoColumn, {\n      children: [/*#__PURE__*/_jsxDEV(DataRow, {\n        children: [/*#__PURE__*/_jsxDEV(AutoRow, {\n          gap: \"10px\",\n          style: {\n            flexWrap: 'nowrap'\n          },\n          children: [/*#__PURE__*/_jsxDEV(HiddenBelow1080, {\n            children: /*#__PURE__*/_jsxDEV(FixedRankWidth, {\n              children: /*#__PURE__*/_jsxDEV(NoWrap, {\n                children: (page - 1) * FETCHING_INTERVAL + (index + 1)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(BlankInternalLink, {\n            to: (activeProtocol === null || activeProtocol === void 0 ? void 0 : activeProtocol.id) + '/' + d.id,\n            children: /*#__PURE__*/_jsxDEV(AccountLinkGroup, {\n              gap: \"10px\",\n              width: \"initial\",\n              children: [/*#__PURE__*/_jsxDEV(HiddenBelow1080, {\n                children: imageURL ? /*#__PURE__*/_jsxDEV(RoundedProfileImage, {\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: imageURL,\n                    alt: \"profile\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 259,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(WrappedListLogo, {\n                  src: EmptyProfile,\n                  alt: \"profile\",\n                  style: {\n                    opacity: '0.2'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(AutoColumn, {\n                gap: \"6px\",\n                children: [/*#__PURE__*/_jsxDEV(ResponsiveText, {\n                  style: {\n                    fontWeight: 500\n                  },\n                  children: name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 19\n                }, this), d.handle || d.autonomous || shortenAddress(d.id) !== name ? /*#__PURE__*/_jsxDEV(TYPE.black, {\n                  fontSize: \"12px\",\n                  children: shortenAddress(d.id)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 268,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(TYPE.black, {\n                  fontSize: \"12px\",\n                  style: {\n                    opacity: '0.6'\n                  },\n                  children: d.EOA ? '👤 EOA' : ' 📜 Smart Contract'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 270,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(NoWrap, {\n          textAlign: \"end\",\n          children: d.votes.length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(NoWrap, {\n          textAlign: \"end\",\n          children: percentOfVotes\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          style: {\n            justifyContent: 'flex-end'\n          },\n          children: [/*#__PURE__*/_jsxDEV(OnlyAboveExtraSmall, {\n            children: /*#__PURE__*/_jsxDEV(DelegateButton, {\n              width: \"fit-content\",\n              mr: \"24px\",\n              disabled: !showDelegateButton || isDelegatee,\n              onClick: () => {\n                setPrefilledDelegate(d.id);\n                toggelDelegateModal();\n              },\n              children: isDelegatee ? 'Delegated' : 'Delegate'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(VoteText, {\n            textAlign: \"end\",\n            children: votes === '0' ? '0 Votes' : votes + (votes === '1' ? ' Vote' : ' Votes')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Break, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 7\n    }, this);\n  };\n\n  _s(DelegateRow, \"cnoV2EdNybXzBpKdPf1lzMAnjuU=\", false, function () {\n    return [useTwitterProfileData, useENSName];\n  });\n\n  const delegateList = useMemo(() => {\n    return chainId && combinedDelegates && activeProtocol ? combinedDelegates // filter for non zero votes\n    // eslint-disable-next-line react/prop-types\n    .filter(d => hideZero ? !!(d.delegatedVotesRaw > 1) : true).slice((page - 1) * FETCHING_INTERVAL, (page - 1) * FETCHING_INTERVAL + FETCHING_INTERVAL).map((d, i) => {\n      return /*#__PURE__*/_jsxDEV(DelegateRow, {\n        d: d,\n        index: i\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 20\n      }, this);\n    }) : null; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [chainId, combinedDelegates, activeProtocol, page, hideZero]);\n  return combinedDelegates && combinedDelegates.length === 0 ? /*#__PURE__*/_jsxDEV(Card, {\n    padding: \"20px\",\n    children: /*#__PURE__*/_jsxDEV(EmptyWrapper, {\n      children: [/*#__PURE__*/_jsxDEV(TYPE.body, {\n        style: {\n          marginBottom: '8px'\n        },\n        children: \"No delegates yet.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TYPE.subHeader, {\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          children: \"Community members with delegated votes will appear here.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 319,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(Card, {\n    padding: \"0\",\n    children: [/*#__PURE__*/_jsxDEV(OnlyAboveLarge, {\n      children: /*#__PURE__*/_jsxDEV(RowBetween, {\n        style: {\n          marginBottom: '32px',\n          alignItems: 'flex-start'\n        },\n        children: [/*#__PURE__*/_jsxDEV(TYPE.body, {\n          fontSize: \"16px\",\n          fontWeight: \"600\",\n          children: \"Top Delegates\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(OnlyAboveSmall, {\n          children: /*#__PURE__*/_jsxDEV(RowFixed, {\n            children: /*#__PURE__*/_jsxDEV(Toggle, {\n              isActive: filter,\n              toggle: () => setFilter(!filter)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AutoColumn, {\n      gap: \"0\",\n      children: [/*#__PURE__*/_jsxDEV(DataRow, {\n        children: [/*#__PURE__*/_jsxDEV(ColumnLabel, {\n          children: \"Rank\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ColumnLabel, {\n          textAlign: \"end\",\n          children: \"Proposals Voted\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ColumnLabel, {\n          textAlign: \"end\",\n          children: \"Vote Weight\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ColumnLabel, {\n          textAlign: \"end\",\n          children: \"Total Votes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Break, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 9\n      }, this), combinedDelegates && (combinedDelegates === null || combinedDelegates === void 0 ? void 0 : combinedDelegates.length) > 0 ? delegateList : /*#__PURE__*/_jsxDEV(LoadingRows, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 7\n    }, this), combinedDelegates && (combinedDelegates === null || combinedDelegates === void 0 ? void 0 : combinedDelegates.length) > 0 && /*#__PURE__*/_jsxDEV(PageButtons, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: () => {\n          setPage(page === 1 ? page : page - 1);\n        },\n        children: /*#__PURE__*/_jsxDEV(Arrow, {\n          faded: page === 1 ? true : false,\n          children: \"\\u2190\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(TYPE.body, {\n        children: 'Page ' + page + ' of ' + maxPage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: () => {\n          setPage(page === maxPage ? page : page + 1);\n          page !== maxPage && maxFetched && setMaxFetched(maxFetched + FETCHING_INTERVAL);\n        },\n        children: /*#__PURE__*/_jsxDEV(Arrow, {\n          faded: page === maxPage ? true : false,\n          children: \"\\u2192\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 328,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(DelegateList, \"mj9/AvCIXkJBZznHFWhHc6iu35Y=\", false, function () {\n  return [useActiveWeb3React, useTopDelegates, useVerifiedDelegates, useFilterActive, useToggleModal, useModalDelegatee, useActiveProtocol, useGlobalData, useGovernanceToken, useTokenBalance, useUserDelegatee, useAllIdentities, useFilterActive, useMaxFetched];\n});\n\n_c12 = DelegateList;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12;\n\n$RefreshReg$(_c, \"ColumnLabel\");\n$RefreshReg$(_c2, \"NoWrap\");\n$RefreshReg$(_c3, \"DataRow\");\n$RefreshReg$(_c4, \"AccountLinkGroup\");\n$RefreshReg$(_c5, \"VoteText\");\n$RefreshReg$(_c6, \"FixedRankWidth\");\n$RefreshReg$(_c7, \"PageButtons\");\n$RefreshReg$(_c8, \"Arrow\");\n$RefreshReg$(_c9, \"HiddenBelow1080\");\n$RefreshReg$(_c10, \"ResponsiveText\");\n$RefreshReg$(_c11, \"Break\");\n$RefreshReg$(_c12, \"DelegateList\");","map":{"version":3,"sources":["/Users/safahi/Documents/GitHub/sybil-interf/src/components/governance/DelegateList.tsx"],"names":["React","useMemo","useState","styled","AutoColumn","TYPE","BlankInternalLink","OnlyAboveExtraSmall","OnlyAboveSmall","OnlyAboveLarge","Row","AutoRow","RowBetween","RowFixed","EmptyProfile","shortenAddress","useENSName","useActiveProtocol","useGlobalData","useGovernanceToken","useFilterActive","useTopDelegates","useUserDelegatee","useVerifiedDelegates","useMaxFetched","WrappedListLogo","RoundedProfileImage","DelegateButton","EmptyWrapper","Card","useActiveWeb3React","useToggleModal","useModalDelegatee","ApplicationModal","Percent","JSBI","LoadingRows","BIG_INT_ZERO","useTokenBalance","useAllIdentities","useTwitterProfileData","nameOrAddress","FETCHING_INTERVAL","Toggle","ColumnLabel","darkGray","NoWrap","black","DataRow","div","theme","primary1","mediaWidth","upToExtraLarge","upToLarge","upToSmall","AccountLinkGroup","VoteText","FixedRankWidth","PageButtons","Arrow","props","faded","HiddenBelow1080","span","ResponsiveText","Break","bg3","DelegateList","hideZero","chainId","account","topDelegates","verifiedDelegates","filterActive","filteredDelegates","toggelDelegateModal","DELEGATE","setPrefilledDelegate","activeProtocol","globalData","govToken","govTokenBalance","undefined","showDelegateButton","Boolean","greaterThan","raw","userDelegatee","allIdentities","filter","setFilter","manualEntries","Object","keys","address","found","find","d","id","map","identity","handle","twitter","formattedManualDelegates","entry","delegatedVotes","delegatedVotesRaw","votePercent","votes","EOA","autonomous","imageURL","page","setPage","maxFetched","setMaxFetched","combinedDelegates","concat","maxCount","length","totalDelegates","maxPage","Math","floor","DelegateRow","index","parseFloat","toString","toFixed","toLocaleString","twitterData","profileURL","isDelegatee","toLowerCase","ENSName","name","percentOfVotes","BigInt","flexWrap","opacity","fontWeight","justifyContent","delegateList","slice","i","marginBottom","alignItems"],"mappings":"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","sourcesContent":["import React, { useMemo, useState } from 'react'\nimport styled from 'styled-components'\nimport { AutoColumn } from '../Column'\nimport { TYPE, BlankInternalLink, OnlyAboveExtraSmall, OnlyAboveSmall, OnlyAboveLarge } from '../../theme'\nimport Row, { AutoRow, RowBetween, RowFixed } from '../Row'\nimport EmptyProfile from '../../assets/images/emptyprofile.png'\nimport { shortenAddress } from '../../utils'\nimport useENSName from '../../hooks/useENSName'\nimport {\n  useActiveProtocol,\n  useGlobalData,\n  useGovernanceToken,\n  useFilterActive,\n  useTopDelegates,\n  useUserDelegatee,\n  useVerifiedDelegates,\n  DelegateData,\n  useMaxFetched,\n} from '../../state/governance/hooks'\nimport { WrappedListLogo, RoundedProfileImage, DelegateButton, EmptyWrapper } from './styled'\nimport Card from '../Card'\nimport { useActiveWeb3React } from '../../hooks'\nimport { useToggleModal, useModalDelegatee } from '../../state/application/hooks'\nimport { ApplicationModal } from '../../state/application/actions'\nimport { Percent, JSBI } from '@uniswap/sdk'\nimport { LoadingRows } from '../Loader'\nimport { BIG_INT_ZERO } from '../../constants'\nimport { useTokenBalance } from '../../state/wallet/hooks'\nimport { useAllIdentities, useTwitterProfileData } from '../../state/social/hooks'\nimport { nameOrAddress } from '../../utils/getName'\nimport { FETCHING_INTERVAL } from '../../state/governance/reducer'\nimport Toggle from 'components/Toggle'\n\nconst ColumnLabel = styled(TYPE.darkGray)`\n  white-space: no-wrap;\n  font-size: 15px;\n`\n\nconst NoWrap = styled(TYPE.black)`\n  white-space: nowrap;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n`\n\nconst DataRow = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 132px 100px 1fr;\n  grid-column-gap: 1rem;\n\n  position: relative;\n  margin: 6px 0;\n  border-left: 3px solid transparent;\n\n  :hover::after {\n    content: '';\n    border-left: 3px solid ${({ theme }) => theme.primary1};\n    position: absolute;\n    margin-left: calc(-2rem - 4px);\n    height: 100%;\n    width: 1px;\n  }\n\n  &:first-child {\n    :hover {\n      border-left: 3px solid transparent;\n    }\n  }\n\n  ${({ theme }) => theme.mediaWidth.upToExtraLarge`\n    grid-template-columns: 1fr 100px 1fr;\n     > *:nth-child(2){\n      display: none;\n    }\n  `};\n\n  @media (max-width: 1370px) {\n    grid-template-columns: 1fr 1fr;\n    padding: 0 0.5rem;\n    > *:nth-child(3) {\n      display: none;\n    }\n  }\n\n  ${({ theme }) => theme.mediaWidth.upToLarge`\n    grid-template-columns: 1fr 1fr;\n  `};\n\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    grid-template-columns: 1fr 1fr;\n    margin: 0;\n    padding: 0 1rem;\n  `};\n`\n\nconst AccountLinkGroup = styled(AutoRow)`\n  :hover {\n    /* opacity: 0.5; */\n    /* border-radius: 8px; */\n  }\n\n  flex-wrap: nowrap;\n`\n\nconst VoteText = styled(NoWrap)`\n  width: 120px;\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    font-size: 14px;\n  `};\n`\n\nconst FixedRankWidth = styled.div`\n  width: 12px;\n  text-align: right;\n  margin-right: 0px;\n`\n\nconst PageButtons = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  margin-top: 2em;\n  margin-bottom: 0.5em;\n`\nconst Arrow = styled.div<{ faded?: boolean }>`\n  color: ${({ theme }) => theme.primary1};\n  opacity: ${(props) => (props.faded ? 0.3 : 1)};\n  padding: 0 20px;\n  user-select: none;\n  :hover {\n    cursor: pointer;\n  }\n`\n\nconst HiddenBelow1080 = styled.span`\n  @media (max-width: 1080px) {\n    display: none;\n  }\n`\n\nconst ResponsiveText = styled(TYPE.black)`\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    font-size: 14px;\n  `};\n`\n\nexport const Break = styled.div`\n  width: 100%;\n  background-color: ${({ theme }) => theme.bg3};\n  height: 1px;\n  margin: 12px 0;\n`\n\nexport default function DelegateList({ hideZero }: { hideZero: boolean }) {\n  const { chainId, account } = useActiveWeb3React()\n\n  // get delegate lists, filter if active\n  const [topDelegates] = useTopDelegates()\n  const [verifiedDelegates] = useVerifiedDelegates()\n  const [filterActive] = useFilterActive()\n  const filteredDelegates = filterActive ? verifiedDelegates : topDelegates\n\n  // toggle for showing delegation modal with prefilled delegate\n  const toggelDelegateModal = useToggleModal(ApplicationModal.DELEGATE)\n  const [, setPrefilledDelegate] = useModalDelegatee()\n\n  // used to calculate % ownership of votes\n  const [activeProtocol] = useActiveProtocol()\n  const [globalData] = useGlobalData()\n\n  // show delegate button if they have available votes or if theyve delegated to someone else\n  const govToken = useGovernanceToken()\n  const govTokenBalance = useTokenBalance(account ?? undefined, govToken)\n  const showDelegateButton = Boolean(govTokenBalance && JSBI.greaterThan(govTokenBalance.raw, BIG_INT_ZERO))\n\n  // user gov data\n  const userDelegatee: string | undefined = useUserDelegatee()\n\n  // show indentity if it exists instead of address\n  const [allIdentities] = useAllIdentities()\n\n  // filter on verified or not\n  const [filter, setFilter] = useFilterActive()\n\n  const manualEntries = useMemo(() => {\n    return allIdentities && filteredDelegates\n      ? Object.keys(allIdentities)\n          .filter((address) => {\n            const found = filteredDelegates.find((d) => d.id === address)\n            return !found\n          })\n          .map((address: any) => {\n            const identity = allIdentities[address]\n            return { handle: identity?.twitter?.handle ?? undefined, address }\n          })\n      : []\n  }, [allIdentities, filteredDelegates])\n\n  const formattedManualDelegates: DelegateData[] = useMemo(() => {\n    return manualEntries.map((entry) => {\n      return {\n        id: entry.address,\n        delegatedVotes: 0,\n        delegatedVotesRaw: 0,\n        votePercent: new Percent(BIG_INT_ZERO),\n        votes: [],\n        EOA: true,\n        autonomous: undefined,\n        handle: entry.handle,\n        imageURL: undefined,\n      }\n    })\n  }, [manualEntries])\n\n  const [page, setPage] = useState(1)\n  const [maxFetched, setMaxFetched] = useMaxFetched()\n\n  const combinedDelegates = filterActive ? filteredDelegates?.concat(formattedManualDelegates) : filteredDelegates\n\n  const maxCount = filterActive\n    ? combinedDelegates\n      ? combinedDelegates.filter((d) => (hideZero ? !!(d.delegatedVotesRaw > 1) : true)).length\n      : 0\n    : globalData\n    ? globalData.totalDelegates\n    : 1\n\n  const maxPage = maxCount ? Math.floor(maxCount / FETCHING_INTERVAL) + 1 : 1\n\n  const DelegateRow = ({ d, index }: { d: DelegateData; index: number }) => {\n    const votes = parseFloat(parseFloat(d.delegatedVotes.toString()).toFixed(0)).toLocaleString()\n    const twitterData = useTwitterProfileData(allIdentities?.[d.id]?.twitter?.handle)\n    const imageURL = d.imageURL ?? twitterData?.profileURL ?? undefined\n    const isDelegatee = userDelegatee ? userDelegatee.toLowerCase() === d.id.toLowerCase() : false\n\n    const { ENSName } = useENSName(d.id ?? undefined)\n    const name = nameOrAddress(d.id, allIdentities, true, d.autonomous, ENSName)\n\n    const percentOfVotes = globalData\n      ? globalData.delegatedVotesRaw === 0\n        ? 0\n        : new Percent(JSBI.BigInt(d.delegatedVotesRaw), JSBI.BigInt(globalData.delegatedVotesRaw)).toFixed(3) + '%'\n      : '-'\n\n    return (\n      <AutoColumn>\n        <DataRow>\n          <AutoRow gap=\"10px\" style={{ flexWrap: 'nowrap' }}>\n            <HiddenBelow1080>\n              <FixedRankWidth>\n                <NoWrap>{(page - 1) * FETCHING_INTERVAL + (index + 1)}</NoWrap>\n              </FixedRankWidth>\n            </HiddenBelow1080>\n            <BlankInternalLink to={activeProtocol?.id + '/' + d.id}>\n              <AccountLinkGroup gap=\"10px\" width=\"initial\">\n                <HiddenBelow1080>\n                  {imageURL ? (\n                    <RoundedProfileImage>\n                      <img src={imageURL} alt=\"profile\" />\n                    </RoundedProfileImage>\n                  ) : (\n                    <WrappedListLogo src={EmptyProfile} alt=\"profile\" style={{ opacity: '0.2' }} />\n                  )}\n                </HiddenBelow1080>\n                <AutoColumn gap=\"6px\">\n                  <ResponsiveText style={{ fontWeight: 500 }}>{name}</ResponsiveText>\n                  {d.handle || d.autonomous || shortenAddress(d.id) !== name ? (\n                    <TYPE.black fontSize=\"12px\">{shortenAddress(d.id)}</TYPE.black>\n                  ) : (\n                    <TYPE.black fontSize=\"12px\" style={{ opacity: '0.6' }}>\n                      {d.EOA ? '👤 EOA' : ' 📜 Smart Contract'}\n                    </TYPE.black>\n                  )}\n                </AutoColumn>\n              </AccountLinkGroup>\n            </BlankInternalLink>\n          </AutoRow>\n          <NoWrap textAlign=\"end\">{d.votes.length}</NoWrap>\n          <NoWrap textAlign=\"end\">{percentOfVotes}</NoWrap>\n          <Row style={{ justifyContent: 'flex-end' }}>\n            <OnlyAboveExtraSmall>\n              <DelegateButton\n                width=\"fit-content\"\n                mr=\"24px\"\n                disabled={!showDelegateButton || isDelegatee}\n                onClick={() => {\n                  setPrefilledDelegate(d.id)\n                  toggelDelegateModal()\n                }}\n              >\n                {isDelegatee ? 'Delegated' : 'Delegate'}\n              </DelegateButton>\n            </OnlyAboveExtraSmall>\n            <VoteText textAlign=\"end\">\n              {votes === '0' ? '0 Votes' : votes + (votes === '1' ? ' Vote' : ' Votes')}\n            </VoteText>\n          </Row>\n        </DataRow>\n        <Break />\n      </AutoColumn>\n    )\n  }\n\n  const delegateList = useMemo(() => {\n    return chainId && combinedDelegates && activeProtocol\n      ? combinedDelegates\n          // filter for non zero votes\n          // eslint-disable-next-line react/prop-types\n          .filter((d) => (hideZero ? !!(d.delegatedVotesRaw > 1) : true))\n          .slice((page - 1) * FETCHING_INTERVAL, (page - 1) * FETCHING_INTERVAL + FETCHING_INTERVAL)\n          .map((d, i) => {\n            return <DelegateRow d={d} index={i} key={i} />\n          })\n      : null\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [chainId, combinedDelegates, activeProtocol, page, hideZero])\n\n  return combinedDelegates && combinedDelegates.length === 0 ? (\n    <Card padding=\"20px\">\n      <EmptyWrapper>\n        <TYPE.body style={{ marginBottom: '8px' }}>No delegates yet.</TYPE.body>\n        <TYPE.subHeader>\n          <i>Community members with delegated votes will appear here.</i>\n        </TYPE.subHeader>\n      </EmptyWrapper>\n    </Card>\n  ) : (\n    <Card padding=\"0\">\n      <OnlyAboveLarge>\n        <RowBetween style={{ marginBottom: '32px', alignItems: 'flex-start' }}>\n          <TYPE.body fontSize=\"16px\" fontWeight=\"600\">\n            Top Delegates\n          </TYPE.body>\n          <OnlyAboveSmall>\n            <RowFixed>\n              <Toggle isActive={filter} toggle={() => setFilter(!filter)} />\n            </RowFixed>\n          </OnlyAboveSmall>\n        </RowBetween>\n      </OnlyAboveLarge>\n      <AutoColumn gap=\"0\">\n        <DataRow>\n          <ColumnLabel>Rank</ColumnLabel>\n          <ColumnLabel textAlign=\"end\">Proposals Voted</ColumnLabel>\n          <ColumnLabel textAlign=\"end\">Vote Weight</ColumnLabel>\n          <ColumnLabel textAlign=\"end\">Total Votes</ColumnLabel>\n        </DataRow>\n        <Break />\n        {combinedDelegates && combinedDelegates?.length > 0 ? (\n          delegateList\n        ) : (\n          <LoadingRows>\n            <div />\n            <div />\n            <div />\n            <div />\n            <div />\n            <div />\n            <div />\n            <div />\n            <div />\n            <div />\n            <div />\n            <div />\n          </LoadingRows>\n        )}\n      </AutoColumn>\n      {combinedDelegates && combinedDelegates?.length > 0 && (\n        <PageButtons>\n          <div\n            onClick={() => {\n              setPage(page === 1 ? page : page - 1)\n            }}\n          >\n            <Arrow faded={page === 1 ? true : false}>←</Arrow>\n          </div>\n          <TYPE.body>{'Page ' + page + ' of ' + maxPage}</TYPE.body>\n          <div\n            onClick={() => {\n              setPage(page === maxPage ? page : page + 1)\n              page !== maxPage && maxFetched && setMaxFetched(maxFetched + FETCHING_INTERVAL)\n            }}\n          >\n            <Arrow faded={page === maxPage ? true : false}>→</Arrow>\n          </div>\n        </PageButtons>\n      )}\n    </Card>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}