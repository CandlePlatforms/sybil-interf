{"ast":null,"code":"var _jsxFileName = \"/Users/safahi/Downloads/sybil-interface-candle/src/components/Profile/WalletSummary.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useMemo } from 'react';\nimport { AutoColumn } from '../Column';\nimport styled from 'styled-components';\nimport { useActiveProtocol } from '../../state/governance/hooks';\nimport EmptyProfile from '../../assets/images/emptyprofile.png';\nimport { useToggleModal } from '../../state/application/hooks';\nimport useENS from '../../hooks/useENS';\nimport { useActiveWeb3React, useTheme } from '../../hooks';\nimport WalletIcon from '../../assets/images/wallet-icon.png';\nimport { ApplicationModal } from '../../state/application/actions';\nimport { WhiteCard } from '../Card';\nimport { RowFixed, RowBetween } from '../Row';\nimport { TYPE, BlankInternalLink } from '../../theme';\nimport { ButtonBasic } from '../Button';\nimport { shortenAddress } from '../../utils';\nimport Loader from '../Loader';\nimport { useAllTransactions, isTransactionRecent } from '../../state/transactions/hooks';\nimport { newTransactionsFirst } from '../Web3Status';\nimport { LoadingFlag } from '../../theme/components';\nimport { useVerifiedHandle, useTwitterProfileData } from '../../state/social/hooks';\nimport LogoText from '../governance/LogoText';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StyledWalletIcon = styled.img`\n  width: 18px;\n  height: 18px;\n\n  :hover {\n    cursor: pointer;\n    opacity: 0.7;\n  }\n`;\n_c = StyledWalletIcon;\nconst RoundedProfileImage = styled.div`\n  height: 48px;\n  width: 48px;\n  background: ${({\n  theme\n}) => theme.bg4};\n  border-radius: 50%;\n  margin-right: 16px;\n\n  & > img {\n    height: 100%;\n    width: 100%;\n    border-radius: 50%;\n  }\n`;\n_c2 = RoundedProfileImage;\nconst ButtonText = styled(TYPE.white)`\n  ${({\n  theme\n}) => theme.mediaWidth.upToSmall`\n    font-size: 12px;\n  `};\n`;\n_c3 = ButtonText;\nexport default function WalletSummary() {\n  _s();\n\n  const theme = useTheme(); // account details\n\n  const {\n    chainId,\n    account\n  } = useActiveWeb3React();\n  const [activeProtocol] = useActiveProtocol();\n  const {\n    name: ensName\n  } = useENS(account); // UI views\n\n  const toggleWalletModal = useToggleModal(ApplicationModal.WALLET); // show pending txns if needed\n\n  const allTransactions = useAllTransactions();\n  const sortedRecentTransactions = useMemo(() => {\n    const txs = Object.values(allTransactions);\n    return txs.filter(isTransactionRecent).sort(newTransactionsFirst);\n  }, [allTransactions]);\n  const pending = sortedRecentTransactions.filter(tx => !tx.receipt).map(tx => tx.hash);\n  const hasPendingTransactions = !!pending.length; // get any verified handles for this user + timestamps they were created at\n\n  const verifiedHandleEntry = useVerifiedHandle(account);\n  const profileData = useTwitterProfileData(verifiedHandleEntry === null || verifiedHandleEntry === void 0 ? void 0 : verifiedHandleEntry.handle);\n  return /*#__PURE__*/_jsxDEV(WhiteCard, {\n    padding: \"10px\",\n    children: /*#__PURE__*/_jsxDEV(RowBetween, {\n      children: [/*#__PURE__*/_jsxDEV(BlankInternalLink, {\n        to: `/delegates/${activeProtocol === null || activeProtocol === void 0 ? void 0 : activeProtocol.id}/${account}`,\n        children: /*#__PURE__*/_jsxDEV(RowFixed, {\n          children: [account && /*#__PURE__*/_jsxDEV(RoundedProfileImage, {\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: !(profileData === null || profileData === void 0 ? void 0 : profileData.profileURL) ? EmptyProfile : profileData === null || profileData === void 0 ? void 0 : profileData.profileURL\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 15\n          }, this), !account ? /*#__PURE__*/_jsxDEV(TYPE.main, {\n            children: \"Your Address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 15\n          }, this) : chainId && ((verifiedHandleEntry === null || verifiedHandleEntry === void 0 ? void 0 : verifiedHandleEntry.handle) ? /*#__PURE__*/_jsxDEV(AutoColumn, {\n            gap: \"4px\",\n            children: [/*#__PURE__*/_jsxDEV(LogoText, {\n              type: \"twitter\",\n              children: [\"@\", verifiedHandleEntry.handle]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(TYPE.main, {\n              fontSize: \"12px\",\n              children: ensName !== null && ensName !== void 0 ? ensName : shortenAddress(account)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(TYPE.main, {\n            mr: \"10px\",\n            color: theme.text1,\n            children: ensName !== null && ensName !== void 0 ? ensName : shortenAddress(account)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 17\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), !account ? /*#__PURE__*/_jsxDEV(ButtonBasic, {\n        width: \"fit-content\",\n        onClick: toggleWalletModal,\n        children: /*#__PURE__*/_jsxDEV(ButtonText, {\n          children: \"Connect wallet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(RowFixed, {\n        children: [hasPendingTransactions && /*#__PURE__*/_jsxDEV(LoadingFlag, {\n          style: {\n            marginRight: '10px'\n          },\n          onClick: toggleWalletModal,\n          children: [pending === null || pending === void 0 ? void 0 : pending.length, \" pending \", /*#__PURE__*/_jsxDEV(Loader, {\n            style: {\n              marginLeft: '4px',\n              height: '8px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 43\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(StyledWalletIcon, {\n          src: WalletIcon,\n          onClick: toggleWalletModal\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n}\n\n_s(WalletSummary, \"jjNhwKO43iO4rjHDWsuBzrcW3HM=\", false, function () {\n  return [useTheme, useActiveWeb3React, useActiveProtocol, useENS, useToggleModal, useAllTransactions, useVerifiedHandle, useTwitterProfileData];\n});\n\n_c4 = WalletSummary;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"StyledWalletIcon\");\n$RefreshReg$(_c2, \"RoundedProfileImage\");\n$RefreshReg$(_c3, \"ButtonText\");\n$RefreshReg$(_c4, \"WalletSummary\");","map":{"version":3,"sources":["/Users/safahi/Downloads/sybil-interface-candle/src/components/Profile/WalletSummary.tsx"],"names":["React","useMemo","AutoColumn","styled","useActiveProtocol","EmptyProfile","useToggleModal","useENS","useActiveWeb3React","useTheme","WalletIcon","ApplicationModal","WhiteCard","RowFixed","RowBetween","TYPE","BlankInternalLink","ButtonBasic","shortenAddress","Loader","useAllTransactions","isTransactionRecent","newTransactionsFirst","LoadingFlag","useVerifiedHandle","useTwitterProfileData","LogoText","StyledWalletIcon","img","RoundedProfileImage","div","theme","bg4","ButtonText","white","mediaWidth","upToSmall","WalletSummary","chainId","account","activeProtocol","name","ensName","toggleWalletModal","WALLET","allTransactions","sortedRecentTransactions","txs","Object","values","filter","sort","pending","tx","receipt","map","hash","hasPendingTransactions","length","verifiedHandleEntry","profileData","handle","id","profileURL","text1","marginRight","marginLeft","height"],"mappings":"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","sourcesContent":["import React, { useMemo } from 'react'\nimport { AutoColumn } from '../Column'\nimport styled from 'styled-components'\nimport { useActiveProtocol } from '../../state/governance/hooks'\nimport EmptyProfile from '../../assets/images/emptyprofile.png'\nimport { useToggleModal } from '../../state/application/hooks'\nimport useENS from '../../hooks/useENS'\nimport { useActiveWeb3React, useTheme } from '../../hooks'\nimport WalletIcon from '../../assets/images/wallet-icon.png'\nimport { ApplicationModal } from '../../state/application/actions'\nimport { WhiteCard } from '../Card'\nimport { RowFixed, RowBetween } from '../Row'\nimport { TYPE, BlankInternalLink } from '../../theme'\nimport { ButtonBasic } from '../Button'\nimport { shortenAddress } from '../../utils'\nimport Loader from '../Loader'\nimport { useAllTransactions, isTransactionRecent } from '../../state/transactions/hooks'\nimport { newTransactionsFirst } from '../Web3Status'\nimport { LoadingFlag } from '../../theme/components'\nimport { useVerifiedHandle, useTwitterProfileData } from '../../state/social/hooks'\nimport LogoText from '../governance/LogoText'\n\nconst StyledWalletIcon = styled.img`\n  width: 18px;\n  height: 18px;\n\n  :hover {\n    cursor: pointer;\n    opacity: 0.7;\n  }\n`\n\nconst RoundedProfileImage = styled.div`\n  height: 48px;\n  width: 48px;\n  background: ${({ theme }) => theme.bg4};\n  border-radius: 50%;\n  margin-right: 16px;\n\n  & > img {\n    height: 100%;\n    width: 100%;\n    border-radius: 50%;\n  }\n`\n\nconst ButtonText = styled(TYPE.white)`\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    font-size: 12px;\n  `};\n`\n\nexport default function WalletSummary() {\n  const theme = useTheme()\n\n  // account details\n  const { chainId, account } = useActiveWeb3React()\n  const [activeProtocol] = useActiveProtocol()\n  const { name: ensName } = useENS(account)\n\n  // UI views\n  const toggleWalletModal = useToggleModal(ApplicationModal.WALLET)\n\n  // show pending txns if needed\n  const allTransactions = useAllTransactions()\n  const sortedRecentTransactions = useMemo(() => {\n    const txs = Object.values(allTransactions)\n    return txs.filter(isTransactionRecent).sort(newTransactionsFirst)\n  }, [allTransactions])\n  const pending = sortedRecentTransactions.filter((tx) => !tx.receipt).map((tx) => tx.hash)\n  const hasPendingTransactions = !!pending.length\n\n  // get any verified handles for this user + timestamps they were created at\n  const verifiedHandleEntry = useVerifiedHandle(account)\n  const profileData = useTwitterProfileData(verifiedHandleEntry?.handle)\n\n  return (\n    <WhiteCard padding=\"10px\">\n      <RowBetween>\n        <BlankInternalLink to={`/delegates/${activeProtocol?.id}/${account}`}>\n          <RowFixed>\n            {account && (\n              <RoundedProfileImage>\n                <img src={!profileData?.profileURL ? EmptyProfile : profileData?.profileURL} />\n              </RoundedProfileImage>\n            )}\n            {!account ? (\n              <TYPE.main>Your Address</TYPE.main>\n            ) : (\n              chainId &&\n              (verifiedHandleEntry?.handle ? (\n                <AutoColumn gap=\"4px\">\n                  <LogoText type=\"twitter\">@{verifiedHandleEntry.handle}</LogoText>\n                  <TYPE.main fontSize=\"12px\">{ensName ?? shortenAddress(account)}</TYPE.main>\n                </AutoColumn>\n              ) : (\n                <TYPE.main mr=\"10px\" color={theme.text1}>\n                  {ensName ?? shortenAddress(account)}\n                </TYPE.main>\n              ))\n            )}\n          </RowFixed>\n        </BlankInternalLink>\n        {!account ? (\n          <ButtonBasic width=\"fit-content\" onClick={toggleWalletModal}>\n            <ButtonText>Connect wallet</ButtonText>\n          </ButtonBasic>\n        ) : (\n          <RowFixed>\n            {hasPendingTransactions && (\n              <LoadingFlag style={{ marginRight: '10px' }} onClick={toggleWalletModal}>\n                {pending?.length} pending <Loader style={{ marginLeft: '4px', height: '8px' }} />\n              </LoadingFlag>\n            )}\n            <StyledWalletIcon src={WalletIcon} onClick={toggleWalletModal} />\n          </RowFixed>\n        )}\n      </RowBetween>\n    </WhiteCard>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}